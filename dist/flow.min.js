/*!
 * 
 * ++++++++   ++++++++   ++++++++         Flow.js
 * ++++++++   ,+++++++~   ++++++++        v0.11.0
 *  ++++++++   ++++++++   ++++++++
 *  ~+++++++~   ++++++++   ++++++++       Github: https://github.com/forio/flow.js
 *   ++++++++   ++++++++   ++++++++:
 *    :++++++++   ++++++++   ++++++++
 *      ++++++++   =+++++++   ,+++++++=
 *       ++++++++   ++++++++   ++++++++
 *       =+++++++    +++++++=   ++++++++
 *        ++++++++   ++++++++   ++++++++
 *        ,+++++++:   +++++++~   ++++++++
 *         +++++++=   +++++++=   ++++++++
 *        ++++++++   ++++++++   ++++++++
 *        ++++++++   ++++++++   ++++++++
 *        ++++++++   =+++++++   :+++++++,
 *         ++++++++   ++++++++   ++++++++
 *         ++++++++   ~+++++++    +++++++=
 *          ++++++++   ++++++++   ++++++++
 * 
 */
var Flow=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=17)}([function(module,exports){module.exports=_},function(module,exports){module.exports={prefix:"f",binderAttr:"f-bind",events:{trigger:"update.f.ui",convert:"f.convert",error:"f.error"},attrs:{checkboxOffValue:"data-off-value",repeat:{templateId:"repeat-template-id"}},errorAttr:"data-flow-error",animation:{addAttr:"data-add",changeAttr:"data-update",initialAttr:"data-initial"}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function stripSuffixDelimiter(text){return text&&text.indexOf(CHANNEL_DELIMITER)===text.length-1&&(text=text.replace(CHANNEL_DELIMITER,"")),text}function mapWithPrefix(dataArray,prefix){return prefix?(dataArray||[]).map(function(datapt){var name=(prefix+datapt.name).replace(/:$/,"");return $.extend(!0,{},datapt,{name:name})}):dataArray}function withPrefix(callback,prefixList){var arr=[].concat(prefixList);return function(data){arr.forEach(function(prefix){var mapped=mapWithPrefix(data,prefix);callback(mapped)})}}function unprefixTopics(list,prefix){return prefix?list.map(function(item){return item.replace(prefix,"")}):list}function unprefix(list,prefix){return prefix?list.map(function(item){return item.name?$.extend(!0,{},item,{name:item.name.replace(prefix,"")}):item.replace(prefix,"")}):list}__webpack_exports__.d=stripSuffixDelimiter,__webpack_exports__.b=mapWithPrefix,__webpack_exports__.g=withPrefix,__webpack_exports__.f=unprefixTopics,__webpack_exports__.e=unprefix;var __WEBPACK_IMPORTED_MODULE_0__silencable__=__webpack_require__(56);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__silencable__.a});var __WEBPACK_IMPORTED_MODULE_1__exclude_read_only__=__webpack_require__(57);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_1__exclude_read_only__.a});var CHANNEL_DELIMITER=":"},function(module,__webpack_exports__,__webpack_require__){"use strict";function notifySubscribeHandlers(handlers,topics,options){var grouped=Object(__WEBPACK_IMPORTED_MODULE_0__utils_handler_utils__.a)(topics,handlers);var promises=[];return grouped.filter(function(handler){return handler.subscribeHandler}).forEach(function(handler){var mergedOptions=$.extend(!0,{},handler.options,options);var unprefixed=Object(__WEBPACK_IMPORTED_MODULE_1__utils__.f)(handler.data,handler.matched);var promise=Object(__WEBPACK_IMPORTED_MODULE_2_utils_general__.b)(function(){return handler.subscribeHandler(unprefixed,mergedOptions,handler.matched)}).then(function(topicsWithData){var normalized=Object(__WEBPACK_IMPORTED_MODULE_0__utils_handler_utils__.c)(topicsWithData,unprefixed);return Object(__WEBPACK_IMPORTED_MODULE_1__utils__.b)(normalized,handler.matched)});promises.push(promise)}),$.when.apply(null,promises).then(function(){return[].concat.apply([],arguments)})}function notifyUnsubscribeHandlers(handlers,recentlyUnsubscribedTopics,remainingTopics){handlers=handlers.map(function(h,index){return h.unsubsKey=index,h});var unsubsGrouped=Object(__WEBPACK_IMPORTED_MODULE_0__utils_handler_utils__.a)(recentlyUnsubscribedTopics,handlers);var remainingGrouped=Object(__WEBPACK_IMPORTED_MODULE_0__utils_handler_utils__.a)(remainingTopics,handlers);unsubsGrouped.filter(function(h){return h.unsubscribeHandler}).forEach(function(handler){var unprefixedUnsubs=Object(__WEBPACK_IMPORTED_MODULE_1__utils__.f)(handler.data,handler.matched);var matchingRemainingHandler=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.find(remainingGrouped,function(remainingHandler){return remainingHandler.unsubsKey===handler.unsubsKey});var matchingTopicsRemaining=matchingRemainingHandler?matchingRemainingHandler.data:[];var unprefixedRemaining=Object(__WEBPACK_IMPORTED_MODULE_1__utils__.f)(matchingTopicsRemaining||[],handler.matched);handler.unsubscribeHandler(unprefixedUnsubs,unprefixedRemaining)})}function passthroughPublishInterceptors(handlers,publishData,options){var grouped=Object(__WEBPACK_IMPORTED_MODULE_0__utils_handler_utils__.b)(publishData,handlers);var $initialProm=$.Deferred().resolve([]).promise();return grouped.forEach(function(handler){$initialProm=$initialProm.then(function(dataSoFar){var mergedOptions=$.extend(!0,{},handler.options,options);var unprefixed=Object(__WEBPACK_IMPORTED_MODULE_1__utils__.e)(handler.data,handler.matched);var publishableData=Object(__WEBPACK_IMPORTED_MODULE_1__utils__.a)(unprefixed,mergedOptions.readOnly);if(!publishableData.length)return dataSoFar;var result=handler.publishHandler?handler.publishHandler(publishableData,mergedOptions,handler.matched):publishableData;return $.Deferred().resolve(result).promise().then(function(published){return Object(__WEBPACK_IMPORTED_MODULE_1__utils__.c)(published,mergedOptions.silent)}).then(function(published){var mapped=Object(__WEBPACK_IMPORTED_MODULE_1__utils__.b)(published,handler.matched);return handler.isDefault&&handler.matched&&(mapped=mapped.concat(published)),mapped}).then(function(mapped){return[].concat(dataSoFar,mapped)})})}),$initialProm}function router(handlers,options,notifier){var _this=this;var myHandlers=(handlers||[]).map(function(Handler){var handler=Handler;if(__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.isFunction(Handler)&&(handler=new Handler(options,notifier),$.extend(_this,handler.expose)),"string"==typeof handler.match){var matchString=handler.match;handler.name=matchString,handler.match=function(t){return t===matchString&&""}}return handler});return{expose:myHandlers.reduce(function(accum,h){return $.extend(!0,accum,h.expose),accum},{}),match:function(topic){return myHandlers.reduce(function(match,handler){var matched=handler.match(topic);return!1===match&&!1!==matched?"":match},!1)},subscribeHandler:function(topics,options){return notifySubscribeHandlers(myHandlers,topics,options)},unsubscribeHandler:function(recentlyUnsubscribedTopics,remainingTopics){return notifyUnsubscribeHandlers(myHandlers,recentlyUnsubscribedTopics,remainingTopics)},publishHandler:function(data,options){return passthroughPublishInterceptors(myHandlers,data,options)},addRoute:function(handler){if(!handler||!handler.match)throw Error("Handler does not have a valid `match` property");return handler.id=__WEBPACK_IMPORTED_MODULE_3_lodash___default.a.uniqueId("routehandler-"),myHandlers.unshift(handler),handler.id},removeRoute:function(routeid){myHandlers=myHandlers.filter(function(handler){return handler.id!==routeid})}}}__webpack_exports__.a=router;var __WEBPACK_IMPORTED_MODULE_0__utils_handler_utils__=__webpack_require__(55);var __WEBPACK_IMPORTED_MODULE_1__utils__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2_utils_general__=__webpack_require__(7);var __WEBPACK_IMPORTED_MODULE_3_lodash__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_3_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function toImplicitType(data){var objRegex=/^(?:\{.*\})$/;var arrRegex=/^(?:\[.*])$/;var converted=data;if("string"==typeof data)if("true"===(converted=data.trim()))converted=!0;else if("false"===converted)converted=!1;else if("null"===converted)converted=null;else if("undefined"===converted)converted="";else if("'"===converted.charAt(0)||'"'===converted.charAt(0))converted=converted.substring(1,converted.length-1);else if($.isNumeric(converted))converted=+converted;else{if(arrRegex.test(converted)){var bracketReplaced=converted.replace(/[[\]]/g,"");if(!bracketReplaced)return[];var parsed=bracketReplaced.split(/,(?![^[]*])/).map(function(val){return toImplicitType(val)});return parsed}if(objRegex.test(converted))try{converted=JSON.parse(converted)}catch(e){console.error("toImplicitType: couldn't convert",converted)}}return converted}function splitUnescapedCommas(str){var regex=/(\\.|[^,])+/g;var m=void 0;var op=[];for(;null!==(m=regex.exec(str));)m.index===regex.lastIndex&&regex.lastIndex++,m.forEach(function(match,groupIndex){0===groupIndex&&op.push(match.replace("\\",""))});return op}function splitNameArgs(value){return value=value.trim(),{name:value.split("(")[0],args:splitUnescapedCommas(value.substring(value.indexOf("(")+1,value.indexOf(")"))).map(function(p){return p.trim()})}}function toPublishableFormat(value){return(value||"").split("&&").map(function(value){if(value&&-1!==value.indexOf("=")){var _split=value.split("=");return{name:_split[0].trim(),value:_split[1].trim()}}var parsed=splitNameArgs(value);return{name:parsed.name,value:parsed.args}})}__webpack_require__.d(__webpack_exports__,"b",function(){return toImplicitType}),__webpack_require__.d(__webpack_exports__,"c",function(){return toPublishableFormat}),__webpack_require__.d(__webpack_exports__,"a",function(){return splitNameArgs})},function(module,__webpack_exports__,__webpack_require__){"use strict";function objectToPublishable(obj){return Object.keys(obj||{}).map(function(t){return{name:t,value:obj[t]}})}function publishableToObject(arr,mergeWith){return(arr||[]).reduce(function(accum,topic){return accum[topic.name]=topic.value,accum},$.extend(!0,{},mergeWith))}function normalizeParamOptions(topic,publishValue,options){return topic?$.isPlainObject(topic)?{params:objectToPublishable(topic),options:publishValue}:Array.isArray(topic)?{params:topic,options:publishValue}:{params:[{name:topic,value:publishValue}],options:options}:{params:[],options:{}}}__webpack_exports__.b=objectToPublishable,__webpack_exports__.c=publishableToObject,__webpack_exports__.a=normalizeParamOptions},function(module,__webpack_exports__,__webpack_require__){"use strict";function matchPrefix(prefix){return function(topic){return 0===topic.indexOf(prefix)?prefix:!(prefix.replace(/:/g,"")!==topic)&&topic}}function matchDefaultPrefix(prefix){return function(topic,forcePrefix){return 0===topic.indexOf(prefix)||forcePrefix?prefix:""}}function matchRegex(regex){var toMatch=new RegExp("^"+regex+ROUTE_DELIMITER);return function(topic){var match=topic.match(toMatch);return!(!match||!match.length)&&match[0]}}__webpack_exports__.b=matchPrefix,__webpack_exports__.a=matchDefaultPrefix,__webpack_exports__.c=matchRegex;var ROUTE_DELIMITER=":"},function(module,__webpack_exports__,__webpack_require__){"use strict";function random(prefix,min,max){min||(min=parseInt(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)(),10)),max||(max=1e5);var rnd=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.random)(min,max,!1)+"";return prefix&&(rnd=prefix+rnd),rnd}__webpack_exports__.c=random;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var __WEBPACK_IMPORTED_MODULE_1__promise_utils__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_1__promise_utils__.a});var __WEBPACK_IMPORTED_MODULE_2__debounce_and_merge__=__webpack_require__(41);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_2__debounce_and_merge__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function _shouldFetch(result,ignoreOperations){return(result||[]).filter(function(r){var name=r.name||"";var isIgnored=-1!==(ignoreOperations||[]).indexOf(name.replace(OPERATIONS_PREFIX,""));var isVariable=0===name.indexOf(VARIABLES_PREFIX);var isOperation=0===name.indexOf(OPERATIONS_PREFIX);return isVariable||isOperation&&!isIgnored}).length>0}function GenericRunRouteHandler(config,notifier){var _this=this;var defaults={serviceOptions:{},channelOptions:{variables:{autoFetch:!0,debounce:200,silent:!1,readOnly:!1},operations:{readOnly:!1,silent:!1},meta:{silent:!1,autoFetch:!0,readOnly:["id","created","account","project","model","lastModified"]}}};var opts=$.extend(!0,{},defaults,config);var serviceOptions=__WEBPACK_IMPORTED_MODULE_6_lodash___default.a.result(opts,"serviceOptions");var $initialProm=null;if(serviceOptions instanceof RunService)$initialProm=$.Deferred().resolve(serviceOptions).promise();else if(serviceOptions.then)$initialProm=serviceOptions;else{var rs=new RunService(serviceOptions);$initialProm=$.Deferred().resolve(rs).promise()}var operationNotifier=Object(__WEBPACK_IMPORTED_MODULE_4_channels_channel_router_utils__.g)(notifier,OPERATIONS_PREFIX);var variableNotifier=Object(__WEBPACK_IMPORTED_MODULE_4_channels_channel_router_utils__.g)(notifier,[VARIABLES_PREFIX,""]);var metaHandler=new __WEBPACK_IMPORTED_MODULE_0__run_meta_route_handler__.a($initialProm,Object(__WEBPACK_IMPORTED_MODULE_4_channels_channel_router_utils__.g)(notifier,META_PREFIX));var operationsHandler=new __WEBPACK_IMPORTED_MODULE_2__run_operations_route_hander__.a($initialProm,operationNotifier);var variablesHandler=new __WEBPACK_IMPORTED_MODULE_1__run_variables_route_handler__.a($initialProm,variableNotifier);var subscribed=!1;$initialProm.then(function(rs){if(rs.channel&&!subscribed){subscribed=!0;var TOPICS=rs.channel.TOPICS;var subscribeOpts={includeMine:!1};rs.channel.subscribe(TOPICS.RUN_VARIABLES,function(data,meta){variablesHandler.notify(data,meta),variablesHandler.fetch()},_this,subscribeOpts),rs.channel.subscribe(TOPICS.RUN_OPERATIONS,function(data,meta){operationsHandler.notify(data,meta),variablesHandler.fetch()},_this,subscribeOpts),rs.channel.subscribe(TOPICS.CONSENSUS_UPDATE,function(consensus,meta){consensus.closed&&variablesHandler.fetch()},_this,{includeMine:!0}),rs.channel.subscribe(TOPICS.RUN_RESET,function(data,meta){operationsHandler.notify({name:"reset",result:data},meta)},_this,subscribeOpts)}});var handlers=[$.extend({},metaHandler,{name:"meta",match:Object(__WEBPACK_IMPORTED_MODULE_5_channels_route_handlers_route_matchers__.b)(META_PREFIX),options:opts.channelOptions.meta}),$.extend({},operationsHandler,{name:"operations",match:Object(__WEBPACK_IMPORTED_MODULE_5_channels_route_handlers_route_matchers__.b)(OPERATIONS_PREFIX),options:opts.channelOptions.operations}),$.extend({},variablesHandler,{isDefault:!0,name:"variables",match:Object(__WEBPACK_IMPORTED_MODULE_5_channels_route_handlers_route_matchers__.a)(VARIABLES_PREFIX),options:opts.channelOptions.variables})];var runRouter=Object(__WEBPACK_IMPORTED_MODULE_3_channels_channel_router__.a)(handlers);var oldhandler=runRouter.publishHandler;return runRouter.publishHandler=function(publishable){return oldhandler.apply(__WEBPACK_IMPORTED_MODULE_3_channels_channel_router__.a,arguments).then(function(result){if(_shouldFetch(result,["reset"])){var excludeFromFetch=result.map(function(r){return r.name});variablesHandler.fetch({exclude:excludeFromFetch})}return result})},runRouter}__webpack_exports__.a=GenericRunRouteHandler;var __WEBPACK_IMPORTED_MODULE_0__run_meta_route_handler__=__webpack_require__(62);var __WEBPACK_IMPORTED_MODULE_1__run_variables_route_handler__=__webpack_require__(63);var __WEBPACK_IMPORTED_MODULE_2__run_operations_route_hander__=__webpack_require__(65);var __WEBPACK_IMPORTED_MODULE_3_channels_channel_router__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_4_channels_channel_router_utils__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_5_channels_route_handlers_route_matchers__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_6_lodash__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_6_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_lodash__);var VARIABLES_PREFIX="variables:";var META_PREFIX="meta:";var OPERATIONS_PREFIX="operations:";var RunService=F.service.Run},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _findMostConsequtive(arr,match){return arr.reduce(function(accum,val){return val===match&&(accum.prev===match?accum.count=accum.count+1:accum.count=1),accum.maxCount=Math.max(accum.maxCount,accum.count),accum.prev=val,accum},{prev:null,count:0,maxCount:0}).maxCount}function buildDiffArray(currentcontents,newContents){return newContents.map(function(contents,index){return contents===currentcontents[index]})}function fill(count,val){var a=[];for(var i=0;i<count;i++)a.push(val);return a}function elToContents(el){return el.outerHTML.replace(/\s?data-[a-zA-Z]*=['"][a-zA-Z0-9]*['"]/g,"").replace(/\s\s/g," ").trim()}function elementsToContents($els){return $els.map(function(index,child){return elToContents(child)}).get()}function addChangeClassesToList($currentEls,$newEls,isInitial,options){var opts=$.extend({},defaults,options);var currentcontents=elementsToContents($currentEls);var newContents=elementsToContents($newEls);var reversedContents=currentcontents;var diffFromEnd=buildDiffArray(currentcontents,newContents);var diffFromBeginning=buildDiffArray(reversedContents.slice().reverse(),newContents.slice().reverse());var endMatches=_findMostConsequtive(diffFromEnd,!0);var beginningMatches=_findMostConsequtive(diffFromBeginning,!0);var placeHoldersCount=newContents.length-currentcontents.length;var placeHolders=fill(placeHoldersCount,void 0);currentcontents=beginningMatches<=endMatches?currentcontents.concat(placeHolders):placeHolders.concat(currentcontents);for(var i=0;i<newContents.length;i++){var $el=$newEls.eq(i);var curr=currentcontents[i];$el.removeAttr(opts.initialAttr);var contents=elToContents($el.get(0));if(void 0===curr){var _$el$attr;$el.attr((_$el$attr={},_defineProperty(_$el$attr,opts.addAttr,!0),_defineProperty(_$el$attr,opts.initialAttr,isInitial||null),_$el$attr)),$el.removeAttr(opts.changeAttr)}else if(curr!==contents){var _$el$attr2;$el.attr((_$el$attr2={},_defineProperty(_$el$attr2,opts.changeAttr,!0),_defineProperty(_$el$attr2,opts.initialAttr,isInitial||null),_$el$attr2)),$el.removeAttr(opts.addAttr)}else $el.removeAttr(opts.addAttr+" "+opts.changeAttr)}return $newEls}function addContentAndAnimate($el,newValue,isInitial,options){var opts=$.extend({},defaults,options);var current=$el.html().trim();if($el.removeAttr(opts.changeAttr+" "+opts.initialAttr),current===(""+newValue).trim())return $el;$el.html(newValue),setTimeout(function(){var _$el$attr3;$el.attr((_$el$attr3={},_defineProperty(_$el$attr3,opts.changeAttr,!0),_defineProperty(_$el$attr3,opts.initialAttr,isInitial||null),_$el$attr3))},0)}__webpack_exports__.a=addChangeClassesToList,__webpack_exports__.b=addContentAndAnimate;var defaults={addAttr:"data-add",changeAttr:"data-update",initialAttr:"data-initial"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function getKnownDataForEl($el){var closestKnownDataEl=$el.closest("["+CURRENT_INDEX_ATTR+"]");var knownData={};return closestKnownDataEl.length&&(knownData=closestKnownDataEl.data(CURRENT_INDEX_KEY)),knownData}function updateKnownDataForEl($el,data){$el.attr(CURRENT_INDEX_ATTR,JSON.stringify(data))}function removeKnownData($el){$el.removeAttr(CURRENT_INDEX_ATTR)}function getTemplateTags(template){return template=template.replace(/&lt;/g,"<").replace(/&gt;/g,">"),template.match(/<%[=-]?([\s\S]+?)%>/g)||[]}function isTemplated(template){return getTemplateTags(template).length>0}function findMissingReferences(template,knownDataKeys){function isKnownTag(tag,knownTags){return knownDataKeys.find(function(key){return new RegExp("\\b"+key+"\\b").test(tag)})}template=template.replace(/&lt;/g,"<").replace(/&gt;/g,">");var missingReferences={};var templateTagsUsed=getTemplateTags(template);return templateTagsUsed&&templateTagsUsed.forEach(function(tag){if(tag.match(/\w+/)&&!isKnownTag(tag,knownDataKeys)){var refKey=missingReferences[tag];refKey||(refKey=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.uniqueId)("no-ref"),missingReferences[tag]=refKey)}}),missingReferences}function refToMarkup(refKey){return"\x3c!--"+refKey+"--\x3e"}function stubMissingReferences(template,missingReferences){return template=template.replace(/&lt;/g,"<").replace(/&gt;/g,">"),Object.keys(missingReferences).forEach(function(tag){var refId=missingReferences[tag];var r=new RegExp(tag,"g");template=template.replace(r,refToMarkup(refId))}),template}function addBackMissingReferences(template,missingReferences){return Object.keys(missingReferences).forEach(function(originalTemplateVal){var commentRef=missingReferences[originalTemplateVal];var r=new RegExp(refToMarkup(commentRef),"g");template=template.replace(r,originalTemplateVal)}),template}function getOriginalContents($el,resolver){var el=$el.get(0);var originalHTML=elTemplateMap.get(el);return!originalHTML&&resolver&&(originalHTML=resolver($el).replace(/&lt;/g,"<").replace(/&gt;/g,">"),elTemplateMap.set(el,originalHTML)),originalHTML}function clearOriginalContents($el){var el=$el.get(0);elTemplateMap.delete(el)}__webpack_exports__.d=getKnownDataForEl,__webpack_exports__.i=updateKnownDataForEl,__webpack_exports__.g=removeKnownData,__webpack_exports__.f=isTemplated,__webpack_exports__.c=findMissingReferences,__webpack_exports__.h=stubMissingReferences,__webpack_exports__.a=addBackMissingReferences,__webpack_exports__.e=getOriginalContents,__webpack_exports__.b=clearOriginalContents;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var CURRENT_INDEX_KEY="current-index";var CURRENT_INDEX_ATTR="data-"+CURRENT_INDEX_KEY;var elTemplateMap=new WeakMap},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__config__=__webpack_require__(1);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__config__);var __WEBPACK_IMPORTED_MODULE_1__default_node__=__webpack_require__(12);var __WEBPACK_IMPORTED_MODULE_1__default_node___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__default_node__);__webpack_exports__.default=__WEBPACK_IMPORTED_MODULE_1__default_node___default.a.extend({propertyHandlers:[],uiChangeEvent:"change.f-node-event",getUIValue:function(){return this.$el.val()},removeEvents:function(){this.$el.off(this.uiChangeEvent)},initialize:function(){var me=this;var propName=this.$el.data(__WEBPACK_IMPORTED_MODULE_0__config__.binderAttr);propName&&this.$el.off(this.uiChangeEvent).on(this.uiChangeEvent,function(){var val=me.getUIValue();var payload=[{name:propName,value:val}];me.$el.trigger(__WEBPACK_IMPORTED_MODULE_0__config__.events.trigger,{data:payload,source:"bind"})}),__WEBPACK_IMPORTED_MODULE_1__default_node___default.a.prototype.initialize.apply(this,arguments)}},{selector:"input, select, textarea"})},function(module,exports,__webpack_require__){"use strict";var BaseView=__webpack_require__(35);module.exports=BaseView.extend({propertyHandlers:[],initialize:function(){}},{selector:"*"})},function(module,__webpack_exports__,__webpack_require__){"use strict";function extractVariableName(attrVal){var inMatch=attrVal.trim().match(IN_OF_REGEX);return(inMatch?inMatch[2]:attrVal).trim()}function parseKeyAlias(attrVal){var inMatch=attrVal.match(IN_OF_REGEX);if(inMatch){var itMatch=inMatch[1].match(KEY_VALUE_REGEX);return itMatch?itMatch[1].trim():void 0}}function parseValueAlias(attrVal){var inMatch=attrVal.match(IN_OF_REGEX);if(inMatch){var itMatch=inMatch[1].match(KEY_VALUE_REGEX);return(itMatch?itMatch[2]:inMatch[1]).trim()}}function aliasesFromTopics(topics,value){var relevantTopic=topics[0];var defaultKey=$.isPlainObject(value)?"key":"index";return{keyAlias:relevantTopic.keyAlias||defaultKey,valueAlias:relevantTopic.valueAlias||"value"}}function parseTopics(topics){var attrVal=topics[0].name;return[{name:extractVariableName(attrVal),keyAlias:parseKeyAlias(attrVal),valueAlias:parseValueAlias(attrVal)}]}__webpack_exports__.a=aliasesFromTopics,__webpack_exports__.b=parseTopics;var IN_OF_REGEX=/\((.*)\) (?:in|of)\s+(.*)/;var KEY_VALUE_REGEX=/(.*),(.*)/},function(module,__webpack_exports__,__webpack_require__){"use strict";function makePromise(val){if(val&&val.then)return val;var $def=$.Deferred();if(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(val))try{var toReturn=val();if(toReturn&&toReturn.then)return toReturn.then(function(r){return $def.resolve(r)},function(e){return $def.reject(e)});$def.resolve(toReturn)}catch(e){$def.reject(e)}else $def.resolve(val);return $def.promise()}function promisify(fn){if(!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(fn))throw new Error("Promisify requires a function, received "+typeof fn);return function(args){var $def=$.Deferred();try{var toReturn=fn.apply(fn,arguments);if(toReturn&&toReturn.then)return toReturn.then(function(r){return $def.resolve(r)},function(e){return $def.reject(e)});$def.resolve(toReturn)}catch(e){$def.reject(e)}return $def.promise()}}__webpack_exports__.a=makePromise,__webpack_exports__.b=promisify;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function makeConsensusService(consensisAPIResponse){return new window.F.service.Consensus({name:consensisAPIResponse.stage,consensusGroup:consensisAPIResponse.name,worldId:consensisAPIResponse.worldId})}__webpack_exports__.a=makeConsensusService},function(module,__webpack_exports__,__webpack_require__){"use strict";function extractDependencies(topic){return(topic.match(interpolationRegex)||[]).map(function(val){return val.substring(1,val.length-1)})}function interpolateWithValues(topic,data){return topic.replace(interpolationRegex,function(match,dependency){var val=data[dependency];return Array.isArray(val)?val[val.length-1]:val})}__webpack_exports__.a=extractDependencies,__webpack_exports__.b=interpolateWithValues;var interpolationRegex=/<(.*?)>/g},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__dom_dom_manager__=__webpack_require__(18);var __WEBPACK_IMPORTED_MODULE_1_channels_configured_channel_manager__=__webpack_require__(52);var __WEBPACK_IMPORTED_MODULE_2_config__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_2_config___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_config__);var __WEBPACK_IMPORTED_MODULE_3__utils__=__webpack_require__(81);var Flow={dom:__WEBPACK_IMPORTED_MODULE_0__dom_dom_manager__.a,utils:__WEBPACK_IMPORTED_MODULE_3__utils__,initialize:function(config){var model=$("body").data("f-model");var defaults={channel:{defaults:{run:{model:model}}},dom:{root:"body",autoBind:!0}};var options=$.extend(!0,{},defaults,config);config&&config.channel&&config.channel instanceof __WEBPACK_IMPORTED_MODULE_1_channels_configured_channel_manager__.a?this.channel=config.channel:this.channel=new __WEBPACK_IMPORTED_MODULE_1_channels_configured_channel_manager__.a(options.channel);var prom=__WEBPACK_IMPORTED_MODULE_0__dom_dom_manager__.a.initialize($.extend(!0,{channel:this.channel},options.dom));return this.channel.subscribe("operations:reset",function(){__WEBPACK_IMPORTED_MODULE_0__dom_dom_manager__.a.unbindAll(),__WEBPACK_IMPORTED_MODULE_0__dom_dom_manager__.a.bindAll()}),prom}};Flow.ChannelManager=__WEBPACK_IMPORTED_MODULE_1_channels_configured_channel_manager__.a,Flow.constants=__WEBPACK_IMPORTED_MODULE_2_config___default.a,Flow.version="0.11.0",__webpack_exports__.default=Flow},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var __WEBPACK_IMPORTED_MODULE_0__dom_manager_utils_dom_parse_helpers__=__webpack_require__(19);var __WEBPACK_IMPORTED_MODULE_1__dom_manager_utils_dom_channel_prefix_helpers__=__webpack_require__(23);var __WEBPACK_IMPORTED_MODULE_2_utils_parse_utils__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_3_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);var __WEBPACK_IMPORTED_MODULE_4__config__=__webpack_require__(1);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__config__);var __WEBPACK_IMPORTED_MODULE_5_converter_manager__=__webpack_require__(24);var __WEBPACK_IMPORTED_MODULE_6__nodes_node_manager__=__webpack_require__(33);var __WEBPACK_IMPORTED_MODULE_7__attribute_manager__=__webpack_require__(36);var __WEBPACK_IMPORTED_MODULE_8__plugins_auto_update_bindings__=__webpack_require__(51);__webpack_exports__.a=function(){function getMatchingElements(root){var $root=$(root);var matchedElements=$root.find(":"+__WEBPACK_IMPORTED_MODULE_4__config__.prefix);return $root.is(":"+__WEBPACK_IMPORTED_MODULE_4__config__.prefix)&&(matchedElements=matchedElements.add($root)),matchedElements}function getElementOrError(element,context){var el=element instanceof $?element.get(0):element;if(!el||!el.nodeName)throw console.error(context,"Expected to get DOM Element, got ",element),new Error(context+": Expected to get DOM Element, got"+typeof element);return el}function triggerError($el,e){var msg=e.message||e;$.isPlainObject(msg)&&(msg=JSON.stringify(msg)),$el.attr(__WEBPACK_IMPORTED_MODULE_4__config__.errorAttr,msg).trigger(__WEBPACK_IMPORTED_MODULE_4__config__.events.error,e)}function unbindAllAttributes(domEl){var $el=$(domEl);$(domEl.attributes).each(function(index,nodeMap){var attr=nodeMap.nodeName;if(0===attr.indexOf("data-f-")){attr=attr.replace("data-f-","");var handler=__WEBPACK_IMPORTED_MODULE_7__attribute_manager__.a.getHandler(attr,$el);handler.unbind&&handler.unbind(attr,$el)}})}function unbindAllNodeHandlers(domEl){var $el=$(domEl);var Handler=__WEBPACK_IMPORTED_MODULE_6__nodes_node_manager__.a.getHandler($el);var h=new Handler.handle({el:domEl});h.removeEvents&&h.removeEvents()}function removeAllSubscriptions(subscriptions,channel,el){[].concat(subscriptions).forEach(function(subs){try{channel.unsubscribe(subs)}catch(e){triggerError(el,e)}})}$.expr.pseudos[__WEBPACK_IMPORTED_MODULE_4__config__.prefix]=function(el){if(!el||!el.attributes)return!1;for(var i=0;i<el.attributes.length;i++){if(0===el.attributes[i].nodeName.indexOf("data-"+__WEBPACK_IMPORTED_MODULE_4__config__.prefix))return!0}return!1};var publicAPI={nodes:__WEBPACK_IMPORTED_MODULE_6__nodes_node_manager__.a,attributes:__WEBPACK_IMPORTED_MODULE_7__attribute_manager__.a,converters:__WEBPACK_IMPORTED_MODULE_5_converter_manager__.a,matchedElements:new Map,unbindElement:function(element,channel){channel||(channel=this.options.channel);var domEl=getElementOrError(element);var $el=$(element);var existingData=this.matchedElements.get(domEl);if($el.is(":"+__WEBPACK_IMPORTED_MODULE_4__config__.prefix)&&existingData){this.matchedElements.delete(element);var subscriptions=Object.keys(existingData).reduce(function(accum,a){var subsid=existingData[a].subscriptionId;return subsid&&accum.push(subsid),accum},[]);unbindAllNodeHandlers(domEl),unbindAllAttributes(domEl),removeAllSubscriptions(subscriptions,channel,$el);var animAttrs=Object.keys(__WEBPACK_IMPORTED_MODULE_4__config__.animation).join(" ");$el.removeAttr(animAttrs),Object.keys($el.data()).forEach(function(key){(0===key.indexOf("f-")||key.match(/^f[A-Z]/))&&$el.removeData(key)})}},bindElement:function(element,channel){channel||(channel=this.options.channel);var domEl=getElementOrError(element);var $el=$(domEl);if($el.is(":"+__WEBPACK_IMPORTED_MODULE_4__config__.prefix)){new(__WEBPACK_IMPORTED_MODULE_6__nodes_node_manager__.a.getHandler($el).handle)({el:domEl});var filterPrefix="data-"+__WEBPACK_IMPORTED_MODULE_4__config__.prefix+"-";var attrList={};$(domEl.attributes).each(function(index,nodeMap){var attr=nodeMap.nodeName;if(0===attr.indexOf(filterPrefix)){attr=attr.replace(filterPrefix,"");var attrVal=nodeMap.value;var topics=Object(__WEBPACK_IMPORTED_MODULE_0__dom_manager_utils_dom_parse_helpers__.d)(attrVal);var handler=__WEBPACK_IMPORTED_MODULE_7__attribute_manager__.a.getHandler(attr,$el);handler&&handler.init&&handler.init(attr,topics,$el),topics.length&&handler&&handler.parse&&(topics=[].concat(handler.parse(topics)));var channelPrefix=Object(__WEBPACK_IMPORTED_MODULE_0__dom_manager_utils_dom_parse_helpers__.b)($el,attr);topics=Object(__WEBPACK_IMPORTED_MODULE_1__dom_manager_utils_dom_channel_prefix_helpers__.b)(topics,channelPrefix);var converters=Object(__WEBPACK_IMPORTED_MODULE_0__dom_manager_utils_dom_parse_helpers__.c)($el,attr);attrList[attr]={channelPrefix:channelPrefix,topics:topics,converters:converters}}}),this.matchedElements.set(domEl,attrList);var channelConfig=Object(__WEBPACK_IMPORTED_MODULE_0__dom_manager_utils_dom_parse_helpers__.a)(domEl);var attrsWithSubscriptions=Object.keys(attrList).reduce(function(accum,name){var attr=attrList[name];var topics=attr.topics,channelPrefix=attr.channelPrefix;if(!topics.length)return accum[name]=attr,accum;var subsOptions=$.extend({batch:!0,onError:function(e){console.error("DomManager: Subscription error",domEl,e),triggerError($el,e)}},channelConfig);var subscribableTopics=topics.map(function(t){return t.name});var subsid=channel.subscribe(subscribableTopics,function(data,meta){if(!meta||!Object(__WEBPACK_IMPORTED_MODULE_3_lodash__.isEqual)(data,meta.previousData)){var toConvert={};if(1===subscribableTopics.length)toConvert[name]=data[subscribableTopics[0]];else{var dataForAttr=Object(__WEBPACK_IMPORTED_MODULE_3_lodash__.pick)(data,subscribableTopics)||{};toConvert[name]=Object.keys(dataForAttr).reduce(function(accum,key){var toReplace=new RegExp("^"+channelPrefix+":");return accum[channelPrefix?key.replace(toReplace,""):key]=dataForAttr[key],accum},{})}$el.removeAttr(__WEBPACK_IMPORTED_MODULE_4__config__.errorAttr).trigger(__WEBPACK_IMPORTED_MODULE_4__config__.events.convert,toConvert)}},subsOptions);return accum[name]=Object.assign({},attr,{subscriptionId:subsid}),accum},{});this.matchedElements.set(domEl,attrsWithSubscriptions)}},bindAll:function(elementsToBind){var _this=this;elementsToBind?Array.isArray(elementsToBind)||(elementsToBind=getMatchingElements(elementsToBind)):elementsToBind=getMatchingElements(this.options.root),$.each(elementsToBind,function(index,element){_this.bindElement(element,_this.options.channel)})},unbindAll:function(elementsToUnbind){var me=this;elementsToUnbind?Array.isArray(elementsToUnbind)||(elementsToUnbind=getMatchingElements(elementsToUnbind)):(elementsToUnbind=[],this.matchedElements.forEach(function(val,key){elementsToUnbind.push(key)})),$.each(elementsToUnbind,function(index,element){me.unbindElement(element,me.options.channel)})},plugins:{},initialize:function(options){function attachUIListeners($root){function parseValue(value,converters){if(Array.isArray(value)){var parsed=value.map(function(val){return Object(__WEBPACK_IMPORTED_MODULE_2_utils_parse_utils__.b)(val)});return __WEBPACK_IMPORTED_MODULE_5_converter_manager__.a.parse(parsed,converters)}return __WEBPACK_IMPORTED_MODULE_5_converter_manager__.a.parse(Object(__WEBPACK_IMPORTED_MODULE_2_utils_parse_utils__.b)(value),converters)}$root.off(__WEBPACK_IMPORTED_MODULE_4__config__.events.trigger).on(__WEBPACK_IMPORTED_MODULE_4__config__.events.trigger,function(evt,params){var elMeta=me.matchedElements.get(evt.target);var data=params.data,source=params.source,options=params.options;if(elMeta&&data){var sourceMeta=elMeta[source]||{};var channelPrefix=sourceMeta.channelPrefix,converters=sourceMeta.converters;var $el=$(evt.target);var parsed=[].concat(data).map(function(action){var name=action.name,value=action.value;var parsedValue=parseValue(value,converters);var actualName=name.split("|")[0].trim();return{name:Object(__WEBPACK_IMPORTED_MODULE_1__dom_manager_utils_dom_channel_prefix_helpers__.a)(actualName,source,channelPrefix),value:parsedValue}},[]);channel.publish(parsed,options).then(function(result){if(result&&result.length){var last=result[result.length-1];$el.trigger(__WEBPACK_IMPORTED_MODULE_4__config__.events.convert,_defineProperty({},source,last.value))}},function(e){triggerError($el,e)})}})}function attachConversionListner($root){$root.off(__WEBPACK_IMPORTED_MODULE_4__config__.events.convert).on(__WEBPACK_IMPORTED_MODULE_4__config__.events.convert,function(evt,data){var $el=$(evt.target);var elMeta=me.matchedElements.get(evt.target);elMeta&&Object.keys(data).forEach(function(prop){var val=data[prop];var _elMeta$prop=elMeta[prop],converters=_elMeta$prop.converters,topics=_elMeta$prop.topics;var convertedValue=__WEBPACK_IMPORTED_MODULE_5_converter_manager__.a.convert(val,converters);__WEBPACK_IMPORTED_MODULE_7__attribute_manager__.a.getHandler(prop,$el).handle(convertedValue,prop,$el,topics)})})}var defaults={root:"body",channel:null,autoBind:!0};$.extend(defaults,options);var channel=defaults.channel;this.options=defaults;var me=this;var $root=$(defaults.root);var deferred=$.Deferred();return $(function(){me.bindAll(),attachUIListeners($root),attachConversionListner($root),me.plugins.autoBind=Object(__WEBPACK_IMPORTED_MODULE_8__plugins_auto_update_bindings__.a)($root.get(0),me,me.options.autoBind),deferred.resolve($root),$root.trigger("f.domready")}),deferred.promise()}};return $.extend(this,publicAPI)}()},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__parse_converters__=__webpack_require__(20);var __WEBPACK_IMPORTED_MODULE_1__parse_channel__=__webpack_require__(21);var __WEBPACK_IMPORTED_MODULE_2__parse_topics__=__webpack_require__(22);__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_0__parse_converters__.a}),__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_1__parse_channel__.b}),__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_1__parse_channel__.a}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_2__parse_topics__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function convertersToArray(conv){return conv&&conv.trim()?conv.split("|").map(function(v){return v.trim()}):[]}function getConvertersFromAttr($el,attribute){var attrVal=$el.attr("data-f-"+attribute);var withConv=convertersToArray(attrVal);return withConv.length>1?withConv.slice(1):[]}function getFConvertAttrVal($el,suffix){var suffixAttr=suffix?"-"+suffix:"";return convertersToArray($el.attr("data-f-convert"+suffixAttr))}function getConvertersForEl($el,attribute){var converters=function($el,attribute){var convertersAsPipes=getConvertersFromAttr($el,attribute);return convertersAsPipes.length?convertersAsPipes:-1!==["bind","foreach","repeat"].indexOf(attribute)?getFConvertAttrVal($el,""):getFConvertAttrVal($el,attribute)}($el,attribute);var $parentEl=$el.parents("[data-f-convert]").eq(0);var resolvedConverters=converters.reduce(function(accum,val){if("inherit"===val){var parentConv=getConvertersForEl($parentEl,attribute);accum=accum.concat(parentConv)}else accum=accum.concat(val);return accum},[]);return!resolvedConverters.length&&$parentEl.length?getConvertersForEl($parentEl,attribute):resolvedConverters}__webpack_exports__.a=getConvertersForEl},function(module,__webpack_exports__,__webpack_require__){"use strict";function getChannelForAttribute($el,attr){attr=attr.replace("data-f-","");var channel=$el.data("f-channel-"+attr);if(void 0===channel&&(channel=$el.attr("data-f-channel")),void 0===channel){var $parentEl=$el.closest("[data-f-channel]");$parentEl&&(channel=$parentEl.attr("data-f-channel"))}return channel}function getChannelConfigForElement(el){var attrs=el.attributes;var config={};for(var i=0;i<attrs.length;i++){var attrib=el.attributes[i];if(attrib.specified&&0===attrib.name.indexOf("data-f-channel-")){config[attrib.name.replace("data-f-channel-","")]=attrib.value}}return config}__webpack_exports__.b=getChannelForAttribute,__webpack_exports__.a=getChannelConfigForElement},function(module,__webpack_exports__,__webpack_require__){"use strict";function parseTopicsFromAttributeValue(attrVal){var commaRegex=/,(?![^[(]*[\])])/;var topicsPart=attrVal.split("|")[0];if(-1!==topicsPart.indexOf("<%"))return[];var split=topicsPart.split(commaRegex);return split.length>1?split.map(function(v){return{name:v.trim()}}):[{name:topicsPart.trim()}]}__webpack_exports__.a=parseTopicsFromAttributeValue},function(module,__webpack_exports__,__webpack_require__){"use strict";function addPrefixToTopics(topics,prefix){return prefix?topics.map(function(topic){var currentName=topic.name;return-1!==currentName.indexOf(":")||(topic.name=prefix+":"+currentName),topic}):topics}function addDefaultPrefix(name,source,channelPrefix){var isUnprefixed=-1===name.indexOf(":");var defaultPrefix=0===source.indexOf("on-")?DEFAULT_OPERATIONS_PREFIX:DEFAULT_VARIABLES_PREFIX;var needsDefaultPrefix=defaultPrefix!==DEFAULT_VARIABLES_PREFIX;isUnprefixed&&needsDefaultPrefix&&(name=""+defaultPrefix+name);var hasDefaultPrefix=0===name.indexOf(defaultPrefix);return(isUnprefixed||hasDefaultPrefix)&&channelPrefix&&(name=channelPrefix+":"+name),name}__webpack_exports__.b=addPrefixToTopics,__webpack_exports__.a=addDefaultPrefix;var DEFAULT_OPERATIONS_PREFIX="operations:";var DEFAULT_VARIABLES_PREFIX="variables:"},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var __WEBPACK_IMPORTED_MODULE_1__utils_parse_utils__=__webpack_require__(4);var normalize=function(alias,converter,acceptList){var ret=[];return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(converter)?ret.push({alias:alias,convert:converter,acceptList:acceptList}):$.isPlainObject(converter)&&converter.convert?(converter.alias=alias,converter.acceptList=acceptList,ret.push(converter)):$.isPlainObject(alias)&&(alias.convert?ret.push(alias):$.each(alias,function(key,val){ret.push({alias:key,convert:val,acceptList:acceptList})})),ret};var matchConverter=function(alias,converter){return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isString)(converter.alias)?alias===converter.alias:Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(converter.alias)?converter.alias(alias):!!Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isRegExp)(converter.alias)&&converter.alias.match(alias)};var converterManager={private:{matchConverter:matchConverter},list:[],register:function(alias,converter,acceptList){var normalized=normalize(alias,converter,acceptList);this.list=normalized.concat(this.list)},replace:function(alias,converter){var index;this.list.forEach(function(currentConverter,i){if(matchConverter(alias,currentConverter))return index=i,!1}),this.list.splice(index,1,normalize(alias,converter)[0])},getConverter:function(alias){var norm=Object(__WEBPACK_IMPORTED_MODULE_1__utils_parse_utils__.a)(alias);norm.args=norm.args.map(__WEBPACK_IMPORTED_MODULE_1__utils_parse_utils__.b);var conv=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(this.list,function(converter){return matchConverter(norm.name,converter)});return conv&&norm.args?$.extend({},conv,{convert:Function.bind.apply(conv.convert,[null].concat(norm.args))}):conv},convert:function(value,list){if(!list||!list.length)return value;list=[].concat(list).map(function(v){return v.trim()});var currentValue=value;var me=this;var convertArray=function(converter,val,converterName){return val.map(function(v){return converter.convert(v,converterName)})};var convert=function(converter,value,converterName){return Array.isArray(value)&&!0!==converter.acceptList?convertArray(converter,value,converterName):converter.convert(value,converterName)};var convertObject=function(converter,value,converterName){return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.mapValues)(value,function(val){return convert(converter,val,converterName)})};return list.forEach(function(converterName){var converter=me.getConverter(converterName);if(!converter)throw new Error("Could not find converter for "+converterName);currentValue=$.isPlainObject(currentValue)&&!0!==converter.acceptList?convertObject(converter,currentValue,converterName):convert(converter,currentValue,converterName)}),currentValue},parse:function(value,list){if(!list||!list.length)return value;list=[].concat(list).reverse().map(function(v){return v.trim()});var currentValue=value;var me=this;return list.forEach(function(converterName){var converter=me.getConverter(converterName);if(!converter)throw new Error("parse: Could not find converter "+converterName);converter.parse&&(currentValue=converter.parse(currentValue,converterName))}),currentValue}};[__webpack_require__(25),__webpack_require__(26),__webpack_require__(27),__webpack_require__(28),__webpack_require__(29),__webpack_require__(30),__webpack_require__(31),__webpack_require__(32)].reverse().forEach(function(converter){Array.isArray(converter)?converter.forEach(function(c){converterManager.register(c)}):converterManager.register(converter)}),__webpack_exports__.a=converterManager},function(module,exports){module.exports={alias:"i",convert:function(value){return parseFloat(value)}}},function(module,exports){module.exports={s:function(val){return val+""},upperCase:function(val){return(val+"").toUpperCase()},lowerCase:function(val){return(val+"").toLowerCase()},titleCase:function(val){return val+="",val.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}}},function(module,exports,__webpack_require__){function parseLimitArgs(starting,limit,val){var toRet={};if(3===arguments.length)toRet={input:limit,limit:starting};else{if(2!==arguments.length)throw console.error("Too many arguments passed to last",arguments),new Error("Too many arguments passed to last");toRet={input:starting}}return toRet.input=[].concat(toRet.input),toRet}var _=__webpack_require__(0);var list={list:function(val){return[].concat(val)},reverse:function(val){return[].concat(val).reverse()},last:function(n,val){var parsed=parseLimitArgs.apply(null,arguments);var stripped=parsed.input.slice(-(parsed.limit||1));return stripped.length<=1?stripped[0]:stripped},first:function(n,val){var parsed=parseLimitArgs.apply(null,arguments);var stripped=parsed.input.slice(0,parsed.limit||1);return stripped.length<=1?stripped[0]:stripped},previous:function(val){return val=[].concat(val),val.length<=1?val[0]:val[val.length-2]},size:function(src){return[].concat(src).length},pickEvery:function(n,startIndex,val){return 3===arguments.length&&(val=startIndex,startIndex=0),val=[].concat(val),val=val.slice(startIndex),val.filter(function(item,index){return index%n==0})}};var mapped=Object.keys(list).map(function(alias){var fn=list[alias];return{alias:alias,acceptList:!0,convert:function(){var args=_.toArray(arguments);var indexOfActualValue=args.length-2;var val=args[indexOfActualValue];return $.isPlainObject(val)?Object.keys(val).reduce(function(accum,key){var arr=val[key];var newArgs=args.slice();return newArgs[indexOfActualValue]=arr,accum[key]=fn.apply(fn,newArgs),accum},{}):fn.apply(fn,arguments)}}});module.exports=mapped},function(module,exports){function parseArgs(toCompare,trueVal,falseVal,valueToCompare,matchString){var toReturn={trueVal:!0,falseVal:!1};switch(arguments.length){case 5:return $.extend(toReturn,{trueVal:trueVal,falseVal:falseVal,input:valueToCompare});case 4:return $.extend(toReturn,{trueVal:trueVal,falseVal:falseVal,input:falseVal});case 3:return $.extend(toReturn,{input:trueVal,falseVal:trueVal});default:return toReturn}}module.exports=[{alias:"is",acceptList:!1,convert:function(toCompare){var args=parseArgs.apply(null,arguments);return args.input===toCompare?args.trueVal:args.falseVal}}]},function(module,exports,__webpack_require__){function isAllowedLeading(str){return-1!==["₹","$","£","¥","±","’","¢","€"].indexOf(str.trim())}var _require=__webpack_require__(0),isString=_require.isString,isNumber=_require.isNumber;module.exports={alias:function(name){function checkValMatch(v){var validStandalone=["#","0","%"];if(1===v.length)return-1!==validStandalone.indexOf(v);var validFirstChars=["s","#","0","."];var validLastChars=["%","#","0"];isAllowedLeading(v.charAt(0))&&(v=v.slice(1));var isValidFirstChar=-1!==validFirstChars.indexOf(v.charAt(0));var isValidLastChar=-1!==validLastChars.indexOf(v.charAt(v.length-1));if(2===v.length)return isValidFirstChar&&isValidLastChar;var validRemainingChars=["#","0",".",","];var areRemainingCharactersValid=v.substr(1,v.length-2).split("").reduce(function(accum,char){return-1!==validRemainingChars.indexOf(char)||(accum=!1),accum},!0);return isValidFirstChar&&isValidLastChar&&areRemainingCharactersValid}var parts=name.split(" ");return 3===parts.length?checkValMatch(parts[1]):1===parts.length?checkValMatch(parts[0]):2===parts.length&&(checkValMatch(parts[0])||checkValMatch(parts[1]))},parse:function(val){val+="";var isNegative="-"===val.charAt(0);val=val.replace(/,/g,"");var floatMatcher=/([-+]?[0-9]*\.?[0-9]+)(K?M?B?%?)/i;var results=floatMatcher.exec(val);var number;var suffix="";switch(results&&results[1]&&(number=results[1]),results&&results[2]&&(suffix=results[2].toLowerCase()),suffix){case"%":number/=100;break;case"k":number*=1e3;break;case"m":number*=1e6;break;case"b":number*=1e9}return number=parseFloat(number),isNegative&&number>0&&(number*=-1),number},convert:function(value){function roundTo(value,digits){return Math.round(value*Math.pow(10,digits))/Math.pow(10,digits)}function getDigits(value,digits){value=0===value?0:roundTo(value,Math.max(0,digits-Math.ceil(Math.log(value)/Math.LN10)));var TXT="";var numberTXT=value.toString();var decimalSet=!1;for(var iTXT=0;iTXT<numberTXT.length;iTXT++)if(TXT+=numberTXT.charAt(iTXT),"."===numberTXT.charAt(iTXT)?decimalSet=!0:digits--,digits<=0)return TXT;for(decimalSet||(TXT+=".");digits>0;)TXT+="0",digits--;return TXT}function addDecimals(value,decimals,minDecimals,hasCommas){hasCommas=!!hasCommas;var numberTXT=value.toString();var hasDecimals=numberTXT.split(".").length>1;var iDec=0;if(hasCommas)for(var iChar=numberTXT.length-1;iChar>0;iChar--)hasDecimals?hasDecimals="."!==numberTXT.charAt(iChar):0===(iDec=(iDec+1)%3)&&(numberTXT=numberTXT.substr(0,iChar)+","+numberTXT.substr(iChar));if(decimals>0){var toADD;for(numberTXT.split(".").length<=1?(toADD=minDecimals)>0&&(numberTXT+="."):toADD=minDecimals-numberTXT.split(".")[1].length;toADD>0;)numberTXT+="0",toADD--}return numberTXT}function getSuffix(formatTXT){formatTXT=formatTXT.replace(".","");var fixesTXT=formatTXT.split(new RegExp("[0|,|#]+","g"));return fixesTXT.length>1?fixesTXT[1].toString():""}function format(number,formatTXT){if(Array.isArray(number)&&(number=number[number.length-1]),!isString(number)&&!isNumber(number))return number;if(!formatTXT||"default"===formatTXT.toLowerCase())return number.toString();if(isNaN(number))return"?";var entityCodeMapping={"&euro;":"€","&dollar;":"$","&cent;":"¢","&pound;":"£","&yen;":"¥"};Object.keys(entityCodeMapping).forEach(function(code){formatTXT=formatTXT.replace(code,entityCodeMapping[code])});var formats=formatTXT.split(";");if(formats.length>1)return format(Math.abs(number),formats[number>=0?0:1]);var sign=number>=0?"":"-";number=Math.abs(number);var leftOfDecimal=formatTXT;var d=leftOfDecimal.indexOf(".");d>-1&&(leftOfDecimal=leftOfDecimal.substring(0,d));var normalized=leftOfDecimal.toLowerCase();var index=normalized.lastIndexOf("s");var isShortFormat=index>-1;if(isShortFormat){" "===leftOfDecimal.charAt(index+1)&&(isShortFormat=!1)}var leadingText=isShortFormat?formatTXT.substring(0,index):"";var rightOfPrefix=isShortFormat?formatTXT.substr(index+1):formatTXT.substr(index);if(isShortFormat){var shortFormatTest=/[0-9#*]/;var shortFormatTestResult=rightOfPrefix.match(shortFormatTest);shortFormatTestResult&&0!==shortFormatTestResult.length||(isShortFormat=!1,leadingText="")}if(isShortFormat){var valScale=0===number?0:Math.floor(Math.log(Math.abs(number))/(3*Math.LN10));if(valScale=number/Math.pow(10,3*valScale)<1e3?valScale:valScale+1,valScale=Math.max(valScale,0),valScale=Math.min(valScale,4),number/=Math.pow(10,3*valScale),isNaN(Number(rightOfPrefix))||-1!==rightOfPrefix.indexOf(".")){formatTXT=formatTXT.substr(index+1);var SUFFIX=getSuffix(formatTXT);formatTXT=formatTXT.substr(0,formatTXT.length-SUFFIX.length);var valWithoutLeading=format((""===sign?1:-1)*number,formatTXT)+scales[valScale]+SUFFIX;return isAllowedLeading(leadingText)&&""!==sign?(valWithoutLeading=valWithoutLeading.substr(sign.length),sign+leadingText+valWithoutLeading):leadingText+valWithoutLeading}var limitDigits=Number(rightOfPrefix);return number<Math.pow(10,limitDigits)?isAllowedLeading(leadingText)?sign+leadingText+getDigits(number,Number(rightOfPrefix))+scales[valScale]:leadingText+sign+getDigits(number,Number(rightOfPrefix))+scales[valScale]:isAllowedLeading(leadingText)?sign+leadingText+Math.round(number)+scales[valScale]:leadingText+sign+Math.round(number)+scales[valScale]}var subFormats=formatTXT.split(".");var decimals;var minDecimals;subFormats.length>1?(decimals=subFormats[1].length-subFormats[1].replace(new RegExp("[0|#]+","g"),"").length,minDecimals=subFormats[1].length-subFormats[1].replace(new RegExp("0+","g"),"").length,formatTXT=subFormats[0]+subFormats[1].replace(new RegExp("[0|#]+","g"),"")):decimals=0;var fixesTXT=formatTXT.split(new RegExp("[0|,|#]+","g"));var preffix=fixesTXT[0].toString();var suffix=fixesTXT.length>1?fixesTXT[1].toString():"";return number*=formatTXT.split("%").length>1?100:1,number=roundTo(number,decimals),(sign=0===number?"":sign)+preffix+addDecimals(number,decimals,minDecimals,","===formatTXT.substr(formatTXT.length-4-suffix.length,1))+suffix}var scales=["","K","M","B","T"];return format}()}},function(module,exports){function parseArgs(limit,trueVal,falseVal,valueToCompare,matchString){var toReturn={trueVal:!0,falseVal:!1};switch(arguments.length){case 5:return $.extend(toReturn,{trueVal:trueVal,falseVal:falseVal,input:valueToCompare});case 4:return $.extend(toReturn,{trueVal:trueVal,falseVal:falseVal,input:falseVal});case 3:return $.extend(toReturn,{input:trueVal,falseVal:trueVal});default:return toReturn}}module.exports={greaterThan:function(limit){var args=parseArgs.apply(null,arguments);return Number(args.input)>Number(limit)?args.trueVal:args.falseVal},greaterThanEqual:function(limit){var args=parseArgs.apply(null,arguments);return Number(args.input)>=Number(limit)?args.trueVal:args.falseVal},equalsNumber:function(limit){var args=parseArgs.apply(null,arguments);return Number(args.input)===Number(limit)?args.trueVal:args.falseVal},lessThan:function(limit){var args=parseArgs.apply(null,arguments);return Number(args.input)<Number(limit)?args.trueVal:args.falseVal},lessThanEqual:function(limit){var args=parseArgs.apply(null,arguments);return Number(args.input)<=Number(limit)?args.trueVal:args.falseVal}}},function(module,exports){function parseArgs(trueVal,falseVal,input,matchString){var toReturn={trueVal:!0,falseVal:!1};switch(arguments.length){case 4:return $.extend(toReturn,{trueVal:trueVal,falseVal:falseVal,input:input});case 3:return $.extend(toReturn,{trueVal:trueVal,falseVal:falseVal,input:falseVal});default:return toReturn}}module.exports={toBool:function(value){return!!value},not:function(value){return!value},ifTrue:function(){var args=parseArgs.apply(null,arguments);return args.input?args.trueVal:args.falseVal},ifFalse:function(){var args=parseArgs.apply(null,arguments);return args.input?args.falseVal:args.trueVal}}},function(module,exports,__webpack_require__){var _=__webpack_require__(0);var list={filter:function(valueToFilterBy,source){return source=[].concat(source),$.isPlainObject(source[0])?_.filter(source,valueToFilterBy):source.filter(function(v){return v===valueToFilterBy})},except:function(valueToReject,source){return source=[].concat(source),$.isPlainObject(source[0])?_.reject(source,valueToReject):source.filter(function(v){return v!==valueToReject})},any:function(value,source){return source=[].concat(source),$.isPlainObject(source[0])?_.some(source,value):-1!==source.indexOf(value)},every:function(value,source){return source=[].concat(source),$.isPlainObject(source[0])?_.every(source,value):source.filter(function(v){return v===value}).length===source.length}};var converters=Object.keys(list).map(function(name){return{alias:name,acceptList:!0,convert:list[name]}});module.exports=converters},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var normalize=function(selector,handler){return selector||(selector="*"),Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(handler)&&(handler={selector:selector,handle:handler}),handler.selector=selector,handler};var match=function(toMatch,node){return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isString)(toMatch)?toMatch===node.selector:$(toMatch).is(node.selector)};var nodeManager={list:[],register:function(selector,handler){this.list.unshift(normalize(selector,handler))},getHandler:function(selector){return this.list.find(function(node){return match(selector,node)})},replace:function(selector,handler){var index=void 0;this.list.forEach(function(currentHandler,i){if(selector===currentHandler.selector)return index=i,!1}),this.list.splice(index,1,normalize(selector,handler))}};[__webpack_require__(34).default,__webpack_require__(11).default,__webpack_require__(12)].reverse().forEach(function(handler){nodeManager.register(handler.selector,handler)}),__webpack_exports__.a=nodeManager},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__default_input_node__=__webpack_require__(11);var __WEBPACK_IMPORTED_MODULE_1_config__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_1_config___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_config__);var offAttr=__WEBPACK_IMPORTED_MODULE_1_config___default.a.attrs.checkboxOffValue;__webpack_exports__.default=__WEBPACK_IMPORTED_MODULE_0__default_input_node__.default.extend({propertyHandlers:[],getUIValue:function(){var $el=this.$el;var offAttrVal=$el.attr(offAttr);var offVal=!(!offAttrVal||void 0===offAttrVal)&&offAttrVal;var onAttrVal=$el.attr("value");var onVal=!onAttrVal||void 0===onAttrVal||$el.prop("value");return $el.is(":checked")?onVal:offVal},initialize:function(){__WEBPACK_IMPORTED_MODULE_0__default_input_node__.default.prototype.initialize.apply(this,arguments)}},{selector:":checkbox,:radio"})},function(module,exports,__webpack_require__){var _require=__webpack_require__(0),extend=_require.extend,has=_require.has;var extendView=function(protoProps,staticProps){var me=this;var child;child=protoProps&&has(protoProps,"constructor")?protoProps.constructor:function(){return me.apply(this,arguments)},extend(child,me,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=me.prototype,child.prototype=new Surrogate,protoProps&&extend(child.prototype,protoProps),child.__super__=me.prototype,child};var View=function(options){this.$el=options.$el||$(options.el),this.el=options.el,this.initialize.apply(this,arguments)};extend(View.prototype,{initialize:function(){}}),View.extend=extendView,module.exports=View},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var defaultHandlers=[__webpack_require__(37).default,__webpack_require__(38).default,__webpack_require__(39).default,__webpack_require__(40).default,__webpack_require__(42).default,__webpack_require__(43).default,__webpack_require__(44).default,__webpack_require__(45).default,__webpack_require__(46).default,__webpack_require__(47).default,__webpack_require__(48).default,__webpack_require__(50).default];var handlersList=[];var normalize=function(attributeMatcher,nodeMatcher,handler){return nodeMatcher||(nodeMatcher="*"),Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(handler)&&(handler={handle:handler}),$.extend(handler,{test:attributeMatcher,target:nodeMatcher})};defaultHandlers.forEach(function(handler){handlersList.push(normalize(handler.test,handler.target,handler))});var matchAttr=function(matchExpr,attr,$el){var attrMatch=void 0;return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isString)(matchExpr)?attrMatch="*"===matchExpr||matchExpr.toLowerCase()===attr.toLowerCase():Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(matchExpr)?attrMatch=matchExpr(attr,$el):Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isRegExp)(matchExpr)&&(attrMatch=attr.match(matchExpr)),attrMatch};var matchNode=function(target,nodeFilter){return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isString)(nodeFilter)?nodeFilter===target:nodeFilter.is(target)};var attributeManager={list:handlersList,register:function(attributeMatcher,nodeMatcher,handler){handlersList.unshift(normalize.apply(null,arguments))},filter:function(attrFilter,nodeFilter){var filtered=handlersList.filter(function(handler){return matchAttr(handler.test,attrFilter)});return nodeFilter&&(filtered=filtered.filter(function(handler){return matchNode(handler.target,nodeFilter)})),filtered},replace:function(attrFilter,nodeFilter,handler){var index=void 0;Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.each)(handlersList,function(currentHandler,i){if(matchAttr(currentHandler.test,attrFilter)&&matchNode(currentHandler.target,nodeFilter))return index=i,!1}),handlersList.splice(index,1,normalize(attrFilter,nodeFilter,handler))},getHandler:function(attr,$el){return this.filter(attr,$el)[0]}};__webpack_exports__.a=attributeManager},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var noopAttr={target:"*",test:/^(?:model|convert|channel|on-init)/i,handle:function(){},parse:function(){return[]}};__webpack_exports__.default=noopAttr},function(module,__webpack_exports__,__webpack_require__){"use strict";function eventNameFromAttr(attr){return attr.replace("on-","")+".f-event"}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_config__=__webpack_require__(1);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_config__);var __WEBPACK_IMPORTED_MODULE_1_utils_parse_utils__=__webpack_require__(4);var defaultEventAttr={target:"*",test:function(attr){return 0===attr.indexOf("on-")},unbind:function(attr,$el){var eventName=eventNameFromAttr(attr);$el.off(eventName)},parse:function(){return[]},handle:function(){},init:function(attr,topics,$el){var matching=topics[0]&&topics[0].name;var eventName=eventNameFromAttr(attr);$el.off(eventName).on(eventName,function(evt){evt.preventDefault();var listOfOperations=Object(__WEBPACK_IMPORTED_MODULE_1_utils_parse_utils__.c)(matching);$el.trigger(__WEBPACK_IMPORTED_MODULE_0_config__.events.trigger,{data:listOfOperations,source:attr})})}};__webpack_exports__.default=defaultEventAttr},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_utils_parse_utils__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_1_config__=__webpack_require__(1);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_config__);var __WEBPACK_IMPORTED_MODULE_2__loop_attr_utils__=__webpack_require__(13);var __WEBPACK_IMPORTED_MODULE_3_utils_animation__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__);var __WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__=__webpack_require__(10);var elAnimatedMap=new WeakMap;var foreachAttr={test:"foreach",target:"*",unbind:function(attr,$el){var el=$el.get(0);elAnimatedMap.delete(el);var template=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.e)($el);var current=$el.html();template&&current!==template&&$el.html(template),Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.b)($el),Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.g)($el)},parse:function(topics){return Object(__WEBPACK_IMPORTED_MODULE_2__loop_attr_utils__.b)(topics)},handle:function(value,prop,$el,topics){value=$.isPlainObject(value)?value:[].concat(value);var _aliasesFromTopics=Object(__WEBPACK_IMPORTED_MODULE_2__loop_attr_utils__.a)(topics,value),keyAlias=_aliasesFromTopics.keyAlias,valueAlias=_aliasesFromTopics.valueAlias;var originalHTML=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.e)($el,function($el){return $el.html()});var knownData=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.d)($el);var missingReferences=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.c)(originalHTML,[keyAlias,valueAlias].concat(Object.keys(knownData)));var stubbedTemplate=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.h)(originalHTML,missingReferences);var templateFn=Object(__WEBPACK_IMPORTED_MODULE_4_lodash__.template)(stubbedTemplate);var $dummyEl=$("<div></div>");Object(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(value,function(dataval,datakey){var _$$extend;void 0!==dataval&&null!==dataval||(dataval+="");var templateData=$.extend(!0,{},knownData,(_$$extend={},_defineProperty(_$$extend,keyAlias,datakey),_defineProperty(_$$extend,valueAlias,dataval),_$$extend));var nodes=void 0;var isTemplated=void 0;try{var templated=templateFn(templateData);var templatedWithReferences=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.a)(templated,missingReferences);isTemplated=templatedWithReferences!==stubbedTemplate,nodes=$(templatedWithReferences)}catch(e){nodes=$(stubbedTemplate),isTemplated=!0,Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.i)($(nodes),templateData)}nodes.each(function(i,newNode){var $newNode=$(newNode);Object(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)($newNode.data(),function(val,key){$newNode.data(key,Object(__WEBPACK_IMPORTED_MODULE_0_utils_parse_utils__.b)(val))}),isTemplated||$newNode.html().trim()||$newNode.html(dataval)}),$dummyEl.append(nodes)});var el=$el.get(0);var isInitialAnim=!elAnimatedMap.get(el);var $withAnimAttrs=Object(__WEBPACK_IMPORTED_MODULE_3_utils_animation__.a)($el.children(),$dummyEl.children(),isInitialAnim,__WEBPACK_IMPORTED_MODULE_1_config__.animation);$el.empty().append($withAnimAttrs),elAnimatedMap.set(el,!0)}};__webpack_exports__.default=foreachAttr},function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var __WEBPACK_IMPORTED_MODULE_1_utils_parse_utils__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_2_utils_general__=__webpack_require__(7);var __WEBPACK_IMPORTED_MODULE_3_config__=__webpack_require__(1);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_config__);var __WEBPACK_IMPORTED_MODULE_4_utils_animation__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__=__webpack_require__(10);var __WEBPACK_IMPORTED_MODULE_6__loop_attr_utils__=__webpack_require__(13);var templateIdAttr=__WEBPACK_IMPORTED_MODULE_3_config__.attrs.repeat.templateId;var elAnimatedMap=new WeakMap;var loopAttrHandler={test:"repeat",target:"*",unbind:function(attr,$el){var id=$el.data(templateIdAttr);id&&$el.nextUntil(":not([data-"+id+"])").remove();var el=$el.get(0);elAnimatedMap.delete(el);var originalHTML=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.e)($el);var current=$el.get(0).outerHTML;originalHTML&&current!==originalHTML&&$el.replaceWith(originalHTML),Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.b)($el),Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.g)($el)},parse:function(topics){return Object(__WEBPACK_IMPORTED_MODULE_6__loop_attr_utils__.b)(topics)},init:function(attr,value,$el){},handle:function(value,prop,$el,topics){value=$.isPlainObject(value)?value:[].concat(value);var id=$el.data(templateIdAttr);$el.removeAttr("hidden");var originalHTML=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.e)($el,function($el){return $el.get(0).outerHTML});var $dummyOldDiv=$("<div></div>");if(id){var $removed=$el.nextUntil(":not([data-"+id+"])").remove();$dummyOldDiv.append($removed)}else id=Object(__WEBPACK_IMPORTED_MODULE_2_utils_general__.c)("repeat-"),$el.attr("data-"+templateIdAttr,id);var _aliasesFromTopics=Object(__WEBPACK_IMPORTED_MODULE_6__loop_attr_utils__.a)(topics,value),keyAlias=_aliasesFromTopics.keyAlias,valueAlias=_aliasesFromTopics.valueAlias;var knownData=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.d)($el);var missingReferences=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.c)(originalHTML,[keyAlias,valueAlias].concat(Object.keys(knownData)));var stubbedTemplate=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.h)(originalHTML,missingReferences);if(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty)(value))return void $el.attr("hidden",!0);var templateFn=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.template)(stubbedTemplate);var last=void 0;Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.each)(value,function(dataval,datakey){var _$$extend;void 0!==dataval&&null!==dataval||(dataval+="");var templateData=$.extend(!0,{},knownData,(_$$extend={},_defineProperty(_$$extend,keyAlias,datakey),_defineProperty(_$$extend,valueAlias,dataval),_$$extend));var nodes=void 0;var isTemplated=void 0;try{var templated=templateFn(templateData);var templatedWithReferences=Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.a)(templated,missingReferences);isTemplated=templatedWithReferences!==stubbedTemplate,nodes=$(templatedWithReferences)}catch(e){nodes=$(stubbedTemplate),isTemplated=!0,Object(__WEBPACK_IMPORTED_MODULE_5_dom_attribute_manager_attr_template_utils__.i)($(nodes),templateData)}var hasData=null!==dataval&&void 0!==dataval;nodes.each(function(i,newNode){var $newNode=$(newNode);$newNode.removeAttr("data-f-repeat").removeAttr("data-"+templateIdAttr),Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.each)($newNode.data(),function(val,key){last?$newNode.data(key,Object(__WEBPACK_IMPORTED_MODULE_1_utils_parse_utils__.b)(val)):$el.data(key,Object(__WEBPACK_IMPORTED_MODULE_1_utils_parse_utils__.b)(val))}),$newNode.attr("data-"+id,!0),isTemplated||$newNode.children().length||!hasData||$newNode.html(dataval+"")}),last=last?nodes.insertAfter(last):$el.html(nodes.html())});var $newEls=$el.nextUntil(":not('[data-"+id+"]')");var el=$el.get(0);var isInitialAnim=!elAnimatedMap.get(el);Object(__WEBPACK_IMPORTED_MODULE_4_utils_animation__.a)($dummyOldDiv.children(),$newEls,isInitialAnim,__WEBPACK_IMPORTED_MODULE_3_config__.animation),elAnimatedMap.set(el,!0)}};__webpack_exports__.default=loopAttrHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";function executeAndResolve(fn,args,$def){return Object(__WEBPACK_IMPORTED_MODULE_0__promise_utils__.b)(fn).apply(fn,args).then(function(result){$def.resolve(result)},function(e){$def.reject(e)})}function debounceAndMerge(fn,debounceInterval,argumentsReducers){function mergeArgs(oldArgs,newArgs){return newArgs.map(function(newArg,index){var reducer=argumentsReducers[index];return reducer?reducer(oldArgs[index],newArg):newArg})}if(!argumentsReducers){argumentsReducers=[function(accum,newVal){return(accum||[]).concat(newVal)}]}var queue=[];var timer=null;return function(){var newArgs=Array.prototype.slice.call(arguments);if(timer){clearTimeout(timer);var mergedArgs=mergeArgs(queue[0].args,newArgs);queue[0].args=mergedArgs}else{var args=mergeArgs([],newArgs);queue.push({$def:$.Deferred(),args:args})}return timer=setTimeout(function(){timer=null;var item=queue.pop();executeAndResolve(fn,item.args,item.$def)},debounceInterval),queue[0].$def.promise()}}__webpack_exports__.a=debounceAndMerge;var __WEBPACK_IMPORTED_MODULE_0__promise_utils__=__webpack_require__(14)},function(module,__webpack_exports__,__webpack_require__){"use strict";function deleteAddedClasses($el){var el=$el.get(0);var addedClasses=elClassesMap.get(el);addedClasses&&$el.removeClass(addedClasses)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var elClassesMap=new WeakMap;var classAttr={test:"class",target:"*",unbind:function(attr,$el){var el=$el.get(0);deleteAddedClasses($el),elClassesMap.delete(el)},handle:function(value,prop,$el){Array.isArray(value)&&(value=value[value.length-1]);var el=$el.get(0);deleteAddedClasses($el),Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNumber)(value)&&(value="value-"+value),setTimeout(function(){$el.addClass(value)},0),elClassesMap.set(el,value)}};__webpack_exports__.default=classAttr},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var booleanAttrHandler={target:"*",test:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|ismap|loop|multiple|open|required|scoped|disabled|hidden|readonly)$/i,handle:function(value,prop,$el){Array.isArray(value)&&(value=value[value.length-1]);var val=$el.attr("value")?value==$el.prop("value"):!!value;$el.prop(prop,val)}};__webpack_exports__.default=booleanAttrHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var showifHandler={test:"showif",target:"*",init:function(attr,value,$el){$el.hide()},handle:function(value,prop,$el){return Array.isArray(value)&&(value=value[value.length-1]),value&&(""+value).trim()?$el.show():$el.hide()}};__webpack_exports__.default=showifHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var hideifHandler={test:"hideif",target:"*",init:function(attr,value,$el){$el.hide()},handle:function(value,prop,$el){Array.isArray(value)&&(value=value[value.length-1]),value&&(""+value).trim()?$el.hide():$el.show()}};__webpack_exports__.default=hideifHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var checkboxAttrHandler={target:":checkbox,:radio",test:"bind",handle:function(value,prop,$el){Array.isArray(value)&&(value=value[value.length-1]);var settableValue=$el.attr("value");var isChecked=void 0!==settableValue?settableValue==value:!!value;$el.prop("checked",isChecked)}};__webpack_exports__.default=checkboxAttrHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var inputBindAttr={target:"input, select, textarea",test:"bind",handle:function(value,prop,$el){$el.is(":focus")||(void 0===value?value="":Array.isArray(value)&&(value=value[value.length-1]),$el.val(value+""))}};__webpack_exports__.default=inputBindAttr},function(module,__webpack_exports__,__webpack_require__){"use strict";function toAliasMap(topics){return(topics||[]).reduce(function(accum,topic){return accum[topic.name]=topic.alias,accum},{})}function getNewContent(currentContents,value,$el,topics){if(!Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.f)(currentContents))return Object(__WEBPACK_IMPORTED_MODULE_3__bind_utils__.c)(value);var templateData=Object(__WEBPACK_IMPORTED_MODULE_3__bind_utils__.d)(value,toAliasMap(topics));var knownData=Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.d)($el);$.extend(templateData,knownData);var missingReferences=Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.c)(currentContents,Object.keys(templateData));var stubbedTemplate=Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.h)(currentContents,missingReferences);var templateFn=Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.template)(stubbedTemplate);try{var templatedHTML=templateFn(templateData);return Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.a)(templatedHTML,missingReferences)}catch(e){return Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.i)($el,templateData),currentContents}}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);var __WEBPACK_IMPORTED_MODULE_1_utils_animation__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_2_config__=__webpack_require__(1);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_config__);var __WEBPACK_IMPORTED_MODULE_3__bind_utils__=__webpack_require__(49);var __WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__=__webpack_require__(10);var elAnimatedMap=new WeakMap;var bindAttrHandler={target:"*",test:"bind",parse:function(topics){return topics.map(function(topic){var attrVal=topic.name;return{name:Object(__WEBPACK_IMPORTED_MODULE_3__bind_utils__.b)(attrVal),alias:Object(__WEBPACK_IMPORTED_MODULE_3__bind_utils__.a)(attrVal)}})},unbind:function(attr,$el){var el=$el.get(0);elAnimatedMap.delete(el);var bindTemplate=Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.e)($el);var current=$el.html();bindTemplate&&current!==bindTemplate&&$el.html(bindTemplate),Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.b)($el),Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.g)($el)},handle:function(value,prop,$el,topics){var el=$el.get(0);var originalContents=Object(__WEBPACK_IMPORTED_MODULE_4_dom_attribute_manager_attr_template_utils__.e)($el,function($el){return $el.html()});var contents=getNewContent(originalContents,value,$el,topics);Object(__WEBPACK_IMPORTED_MODULE_1_utils_animation__.b)($el,contents,!elAnimatedMap.has(el),__WEBPACK_IMPORTED_MODULE_2_config__.animation),elAnimatedMap.set(el,!0)}};__webpack_exports__.default=bindAttrHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";function translateDataToInsertable(value){return Array.isArray(value)&&(value=value[value.length-1]),value=$.isPlainObject(value)?JSON.stringify(value):value+""}function translateDataToTemplatable(value,aliasMap){var templateData={value:value};return $.isPlainObject(value)?Object.keys(value).forEach(function(originalName){var alias=aliasMap[originalName]||originalName;templateData[alias]=value[originalName]}):Object.keys(aliasMap).forEach(function(originalName){var alias=aliasMap[originalName]||originalName;templateData[alias]=value}),templateData}function extractVariableName(attrVal){var asMatch=attrVal.trim().match(AS_REGEX);return(asMatch&&asMatch[1]?asMatch[1]:attrVal).trim()}function extractAlias(attrVal){var asMatch=attrVal.trim().match(AS_REGEX);return(asMatch&&asMatch[2]?asMatch[2]:attrVal).trim()}__webpack_exports__.c=translateDataToInsertable,__webpack_exports__.d=translateDataToTemplatable,__webpack_exports__.b=extractVariableName,__webpack_exports__.a=extractAlias;var AS_REGEX=/(.*) (?:as)\s+\((.*)\)/},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var defaultAttr={test:"*",target:"*",handle:function(value,prop,$el){$el.prop(prop,value)}};__webpack_exports__.default=defaultAttr},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(target,domManager,isEnabled){if("undefined"!=typeof MutationObserver){var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){var added=$(mutation.addedNodes).find(":f");added=added.add($(mutation.addedNodes).filter(":f"));var removed=$(mutation.removedNodes).find(":f");removed=removed.add($(mutation.removedNodes).filter(":f")),added&&added.length&&domManager.bindAll(added),removed&&removed.length&&domManager.unbindAll(removed),"data-f-channel"===mutation.attributeName&&(domManager.unbindAll(mutation.target),domManager.bindAll(mutation.target))})});var mutconfig={attributes:!0,attributeFilter:["data-f-channel"],childList:!0,subtree:!0,characterData:!1};var publicApi={enable:function(){observer.observe(target,mutconfig)},disable:function(){observer.disconnect()}};return isEnabled&&publicApi.enable(),publicApi}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function ChannelManager(opts){var defaultRouteHandlers=[__WEBPACK_IMPORTED_MODULE_2__route_handlers__.b,__WEBPACK_IMPORTED_MODULE_2__route_handlers__.a];var routes=opts&&opts.routes?opts.routes:[];return new InterpolatableRoutableChannelManager($.extend(!0,{},{routes:[].concat(routes,defaultRouteHandlers)},opts))}__webpack_exports__.a=ChannelManager;var __WEBPACK_IMPORTED_MODULE_0__channel_manager__=__webpack_require__(53);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_router__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_2__route_handlers__=__webpack_require__(58);var __WEBPACK_IMPORTED_MODULE_3__channel_manager_enhancements__=__webpack_require__(76);var InterpolatableRoutableChannelManager=Object(__WEBPACK_IMPORTED_MODULE_3__channel_manager_enhancements__.a)(Object(__WEBPACK_IMPORTED_MODULE_3__channel_manager_enhancements__.b)(__WEBPACK_IMPORTED_MODULE_0__channel_manager__.a,__WEBPACK_IMPORTED_MODULE_1_channels_channel_router__.a))},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function makeSubs(topics,callback,options){var id=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniqueId)("subs-");var defaults={batch:!1,cache:!0};var opts=__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.extend({},defaults,options);if(!callback||!Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.isFunction)(callback))throw new Error("subscribe callback should be a function");return __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.extend(!0,{id:id,topics:[].concat(topics),callback:callback},opts)}function copy(data){return Array.isArray(data)?data.map(function(d){return copy(d)}):__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.isPlainObject(data)?Object.keys(data).reduce(function(accum,key){return accum[key]=copy(data[key]),accum},{}):data}function callbackSubscriber(subscription,data){var id=subscription.id;subscription.callback(data,{id:id,previousData:sentDataBySubsId[id]}),sentDataBySubsId[id]=copy(data)}function checkAndNotifyBatch(topics,subscription){var publishData=Object(__WEBPACK_IMPORTED_MODULE_1__channel_utils__.c)(topics);var matchingTopics=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.intersection)(Object.keys(publishData),subscription.topics);if(matchingTopics.length){var relevantDataFromPublish=matchingTopics.reduce(function(accum,topic){return accum[topic]=publishData[topic],accum},{});var cachedDataForSubs=cacheBySubsId[subscription.id]||{};var knownDataForSubs=__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.extend({},cachedDataForSubs,relevantDataFromPublish);subscription.cache&&(cacheBySubsId[subscription.id]=knownDataForSubs);Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.intersection)(Object.keys(knownDataForSubs),subscription.topics).length===subscription.topics.length&&callbackSubscriber(subscription,knownDataForSubs)}}function checkAndNotify(topics,subscription){topics.forEach(function(topic){var needsThisTopic=-1!==subscription.topics.indexOf(topic.name);var isWildCard=-1!==subscription.topics.indexOf("*");(needsThisTopic||isWildCard)&&callbackSubscriber(subscription,_defineProperty({},topic.name,topic.value))})}function getTopicsFromSubsList(subcriptionList){return subcriptionList.reduce(function(accum,subs){return accum=accum.concat(subs.topics)},[])}var __WEBPACK_IMPORTED_MODULE_0_jquery__=__webpack_require__(54);var __WEBPACK_IMPORTED_MODULE_0_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);var __WEBPACK_IMPORTED_MODULE_1__channel_utils__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_2_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var cacheBySubsId={};var sentDataBySubsId={};var ChannelManager=function(){function ChannelManager(options){_classCallCheck(this,ChannelManager),this.subscriptions=[]}return _createClass(ChannelManager,[{key:"publish",value:function(topic,value,options){var _this=this;var normalized=Object(__WEBPACK_IMPORTED_MODULE_1__channel_utils__.a)(topic,value,options);var prom=__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.Deferred().resolve(normalized.params).promise();return prom=prom.then(function(publishResponses){return _this.notify(publishResponses,options),publishResponses})}},{key:"notify",value:function(topic,value,options){var normalized=Object(__WEBPACK_IMPORTED_MODULE_1__channel_utils__.a)(topic,value,options);return this.subscriptions.forEach(function(subs){(subs.batch?checkAndNotifyBatch:checkAndNotify)(normalized.params,subs)})}},{key:"subscribe",value:function(topics,cb,options){var subs=makeSubs(topics,cb,options);return delete cacheBySubsId[subs.id],delete sentDataBySubsId[subs.id],this.subscriptions=this.subscriptions.concat(subs),subs.id}},{key:"unsubscribe",value:function(token){var olderLength=this.subscriptions.length;var remaining=this.subscriptions.filter(function(subs){return subs.id!==token});if(remaining.length===olderLength)throw new Error("No subscription found for token "+token);delete cacheBySubsId[token],delete sentDataBySubsId[token],this.subscriptions=remaining}},{key:"unsubscribeAll",value:function(){cacheBySubsId={},sentDataBySubsId={},this.subscriptions=[]}},{key:"getSubscribedTopics",value:function(){return Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniq)(getTopicsFromSubsList(this.subscriptions))}},{key:"getSubscribers",value:function(topic){return topic?this.subscriptions.filter(function(subs){return-1!==subs.topics.indexOf(topic)}):this.subscriptions}}]),ChannelManager}();__webpack_exports__.a=ChannelManager},function(module,exports){module.exports=jQuery},function(module,__webpack_exports__,__webpack_require__){"use strict";function findBestHandler(topic,handlers,matchOptions){for(var i=0;i<handlers.length;i++){var thishandler=handlers[i];var match=thishandler.match(topic,matchOptions);if(!1!==match)return $.extend(!0,{},thishandler,{matched:match})}}function groupByHandlers(topics,handlers){handlers=handlers.map(function(h,index){return h.key=index,h});var topicMapping=[].concat(topics).reduce(function(accum,topic){var bestHandler=findBestHandler(topic,handlers);if(bestHandler){var key=bestHandler.key+bestHandler.matched;accum[key]||(bestHandler.data=[],accum[key]=bestHandler),accum[key].data.push(topic)}return accum},{});return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.values(topicMapping)}function groupSequentiallyByHandlers(data,handlers){return handlers=handlers.map(function(h,index){return h.key=index,h}),data.reduce(function(accum,dataPt){var lastHandler=accum[accum.length-1];var bestHandler=findBestHandler(dataPt.name,handlers,!0);return bestHandler?lastHandler&&bestHandler.key===lastHandler.key?lastHandler.data.push(dataPt):accum.push($.extend({},bestHandler,{data:[dataPt]})):accum.push({data:[dataPt],matched:!1}),accum},[])}function normalizeSubscribeResponse(response,topics){if(void 0===response)return[];if(Array.isArray(response)&&(!response.length||void 0!==response[0].name))return response;if("object"==typeof response&&!Array.isArray(response))return topics.reduce(function(accum,t){return accum.push({name:t,value:response[t]}),accum},[]);if(1===topics.length){return[{name:topics[0],value:response}]}throw new Error("unrecognized subscribe response format")}__webpack_exports__.a=groupByHandlers,__webpack_exports__.b=groupSequentiallyByHandlers,__webpack_exports__.c=normalizeSubscribeResponse;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_0_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function silencable(published,silentOptions){return!0!==silentOptions&&published?Array.isArray(silentOptions)?published.filter(function(data){return!(-1!==silentOptions.indexOf(data.name))}):silentOptions&&silentOptions.except?published.filter(function(data){return-1!==(silentOptions.except||[]).indexOf(data.name)}):published:[]}__webpack_exports__.a=silencable},function(module,__webpack_exports__,__webpack_require__){"use strict";function excludeReadOnly(publishable,readOnlyOptions){if(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction)(readOnlyOptions)&&(readOnlyOptions=readOnlyOptions()),!0===readOnlyOptions)return console.error("Tried to publish to a readonly channel",publishable),[];if(Array.isArray(readOnlyOptions)){var split=publishable.reduce(function(accum,data){return-1!==readOnlyOptions.indexOf(data.name)?accum.readOnly.push(data):accum.remaining.push(data),accum},{readOnly:[],remaining:[]});return split.readOnly.length&&console.warn("Ignoring readonly publishes",split.readOnly),split.remaining}return publishable}__webpack_exports__.a=excludeReadOnly;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__json_route_handler__=__webpack_require__(59);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_0__json_route_handler__.a});var __WEBPACK_IMPORTED_MODULE_1__epicenter_route_handlers__=__webpack_require__(60);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_1__epicenter_route_handlers__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function match(topic){return"string"!=typeof Object(__WEBPACK_IMPORTED_MODULE_0_utils_parse_utils__.b)(topic)&&""}var __WEBPACK_IMPORTED_MODULE_0_utils_parse_utils__=__webpack_require__(4);__webpack_exports__.a={match:match,name:"JSON Route",subscribeHandler:function(topics){return topics.map(function(t){return{name:t,value:Object(__WEBPACK_IMPORTED_MODULE_0_utils_parse_utils__.b)(t)}})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function getOptions(opts,key){var serviceOptions=$.extend(!0,{},opts.defaults,opts[key]);var channelOptions=$.extend(!0,{},serviceOptions.channelOptions);return delete serviceOptions.channelOptions,{serviceOptions:serviceOptions,channelOptions:channelOptions}}function EpicenterRouteHandler(config,notifier,channelManagerContext){var opts=$.extend(!0,{},config);var runidHandlerOpts=getOptions(opts,"runid");var runidHandler=new __WEBPACK_IMPORTED_MODULE_2__runid_route_handler__.a(runidHandlerOpts,notifier);var multiRunHandler=new __WEBPACK_IMPORTED_MODULE_4__multi_run_route_handler__.a(runidHandlerOpts,Object(__WEBPACK_IMPORTED_MODULE_5_channels_channel_router_utils__.g)(notifier,"runs"),channelManagerContext);var handlers=[$.extend({},runidHandler,{name:"customRun",match:Object(__WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__.c)(runidRegex),options:runidHandlerOpts.channelOptions}),$.extend({},multiRunHandler,{name:"archiveRuns",match:Object(__WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__.b)("runs:"),options:runidHandlerOpts.channelOptions})];var exposable={};var runManagerOpts=getOptions(opts,"runManager");if(opts.runManager||!opts.scenarioManager&&runManagerOpts.serviceOptions.run){var rm;var isMultiplayer="multiplayer"===runManagerOpts.serviceOptions.strategy||runManagerOpts.serviceOptions.isMultiplayer;opts.scenarioManager?(rm=new __WEBPACK_IMPORTED_MODULE_0__default_run_route_handler__.a(runManagerOpts,Object(__WEBPACK_IMPORTED_MODULE_5_channels_channel_router_utils__.g)(notifier,RUN_PREFIX)),handlers.push($.extend({},rm,{name:"run",match:Object(__WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__.b)(RUN_PREFIX),options:runManagerOpts.channelOptions}))):isMultiplayer?(rm=new __WEBPACK_IMPORTED_MODULE_3__world_route_handler__.a(runManagerOpts,Object(__WEBPACK_IMPORTED_MODULE_5_channels_channel_router_utils__.g)(notifier,[WORLD_PREFIX,""])),handlers.push($.extend({},rm,{name:"World run",match:Object(__WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__.a)(WORLD_PREFIX),isDefault:!0,options:runManagerOpts.channelOptions}))):(rm=new __WEBPACK_IMPORTED_MODULE_0__default_run_route_handler__.a(runManagerOpts,Object(__WEBPACK_IMPORTED_MODULE_5_channels_channel_router_utils__.g)(notifier,[RUN_PREFIX,""])),handlers.push($.extend({},rm,{name:"run",match:Object(__WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__.a)(RUN_PREFIX),isDefault:!0,options:runManagerOpts.channelOptions}))),$.extend(exposable,rm.expose)}if(opts.scenarioManager){var scenarioManagerOpts=getOptions(opts,"scenarioManager");var sm=new __WEBPACK_IMPORTED_MODULE_1__scenario_route_handler__.a(scenarioManagerOpts,Object(__WEBPACK_IMPORTED_MODULE_5_channels_channel_router_utils__.g)(notifier,[SCENARIO_PREFIX,""]));handlers.push($.extend({},sm,{name:"scenario",match:Object(__WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__.a)(SCENARIO_PREFIX),options:scenarioManagerOpts.channelOptions,isDefault:!0})),$.extend(exposable,sm.expose)}var epicenterRouter=Object(__WEBPACK_IMPORTED_MODULE_7_channels_channel_router__.a)(handlers,notifier);return epicenterRouter.expose=exposable,epicenterRouter}__webpack_exports__.a=EpicenterRouteHandler;var __WEBPACK_IMPORTED_MODULE_0__default_run_route_handler__=__webpack_require__(61);var __WEBPACK_IMPORTED_MODULE_1__scenario_route_handler__=__webpack_require__(66);var __WEBPACK_IMPORTED_MODULE_2__runid_route_handler__=__webpack_require__(67);var __WEBPACK_IMPORTED_MODULE_3__world_route_handler__=__webpack_require__(69);var __WEBPACK_IMPORTED_MODULE_4__multi_run_route_handler__=__webpack_require__(75);var __WEBPACK_IMPORTED_MODULE_5_channels_channel_router_utils__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_6_channels_route_handlers_route_matchers__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_7_channels_channel_router__=__webpack_require__(3);var SCENARIO_PREFIX="sm:";var RUN_PREFIX="rm:";var WORLD_PREFIX="world:";var sampleRunidLength="000001593dd81950d4ee4f3df14841769a0b".length;var runidRegex="(?:.{"+sampleRunidLength+"})"},function(module,__webpack_exports__,__webpack_require__){"use strict";function RunManagerRouteHandler(config,notifier){var defaults={serviceOptions:{},channelOptions:{}};var opts=$.extend(!0,{},defaults,config);var rmOptions=opts.serviceOptions;var rm=new F.manager.RunManager(rmOptions);var $creationPromise=rm.getRun().then(function(run){return rm.run});var currentChannelOpts=$.extend(!0,{serviceOptions:$creationPromise,channelOptions:opts.channelOptions},opts.defaults,opts.current);var currentRunChannel=new __WEBPACK_IMPORTED_MODULE_0__run_route_handler__.a(currentChannelOpts,Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.g)(notifier,[RUN_PREFIX,""]));var runRouteHandler=$.extend(currentRunChannel,{match:Object(__WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__.a)(RUN_PREFIX),name:"Current Run",isDefault:!0,options:currentChannelOpts.channelOptions});var handlers=[runRouteHandler];var runMangerRouter=Object(__WEBPACK_IMPORTED_MODULE_2_channels_channel_router__.a)(handlers);return runMangerRouter.expose={runManager:rm},runMangerRouter}__webpack_exports__.a=RunManagerRouteHandler;var __WEBPACK_IMPORTED_MODULE_0__run_route_handler__=__webpack_require__(8);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2_channels_channel_router__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__=__webpack_require__(6);var _window=window,F=_window.F;var RUN_PREFIX="current:"},function(module,__webpack_exports__,__webpack_require__){"use strict";function RunMetaRouteHandler($runServicePromise,notifier){function mergeAndSend(runMeta,requestedTopics){return[].concat(requestedTopics).reduce(function(accum,meta){return accum.push({name:meta,value:runMeta[meta]}),accum},[])}return{subscribeHandler:function(topics,options){return topics=[].concat(topics),$runServicePromise.then(function(runService){var cachedValues=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.intersection)(Object.keys(runService.runMeta||{}),topics);return!1===options.autoFetch?$.Deferred().resolve({}).promise():cachedValues.length===topics.length?$.Deferred().resolve(mergeAndSend(runService.runMeta,topics)).promise():(runService.loadPromise||(runService.loadPromise=runService.load().then(function(data){return runService.runMeta=data,data})),runService.loadPromise.then(function(data){return mergeAndSend(data,topics)}))})},publishHandler:function(topics,options){return $runServicePromise.then(function(runService){var toSave=Object(__WEBPACK_IMPORTED_MODULE_0_channels_channel_utils__.c)(topics);return runService.save(toSave).then(function(res){return runService.runMeta=$.extend({},!0,runService.runMeta,res),Object(__WEBPACK_IMPORTED_MODULE_0_channels_channel_utils__.b)(res)})})}}}__webpack_exports__.a=RunMetaRouteHandler;var __WEBPACK_IMPORTED_MODULE_0_channels_channel_utils__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function mergeVariables(accum,newval){return accum||(accum=[]),Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniq)(accum.concat(newval)).filter(function(v){return!(!v||!v.trim())})}function RunVariablesRouteHandler($runServicePromise,notifier){function debouncedVariableQuery(runService,debounceInterval){return runService.debouncedFetchers||(runService.debouncedFetchers={}),runService.debouncedFetchers[id]||(runService.debouncedFetchers[id]=Object(__WEBPACK_IMPORTED_MODULE_0_utils_general__.a)(function(variables){return Object(__WEBPACK_IMPORTED_MODULE_3__retriable_variable_fetch__.a)(runService,variables)},debounceInterval,[mergeVariables])),runService.debouncedFetchers[id]}var id=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniqueId)("variable-route-handler");var knownTopics=[];return{fetch:function(options){var opts=$.extend({exclude:[]},options);return $runServicePromise.then(function(runService){var variablesToFetch=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.difference)([].concat(knownTopics),opts.exclude);return variablesToFetch.length?Object(__WEBPACK_IMPORTED_MODULE_3__retriable_variable_fetch__.a)(runService,[].concat(variablesToFetch)).then(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.b).then(notifier):[]})},unsubscribeHandler:function(unsubscribedTopics,remainingTopics){knownTopics=knownTopics.filter(function(t){return-1===unsubscribedTopics.indexOf(t)})},subscribeHandler:function(topics,options){var isAutoFetchEnabled=options.autoFetch;var debounceInterval=options.debounce;return $runServicePromise.then(function(runService){return knownTopics=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniq)(knownTopics.concat(topics)),knownTopics.length?isAutoFetchEnabled?debouncedVariableQuery(runService,debounceInterval)(topics).then(function(response){var missingVariables=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.difference)(topics,Object.keys(response));return missingVariables.length?$.Deferred().reject({context:missingVariables,message:"Missing variables: "+missingVariables.join(",")}).promise():response}):$.Deferred().resolve(topics).promise():$.Deferred().resolve([]).promise()})},notify:function(variableObj){return $runServicePromise.then(function(runService){var variables=Object.keys(variableObj);return Object(__WEBPACK_IMPORTED_MODULE_3__retriable_variable_fetch__.a)(runService,variables).then(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.b).then(notifier)})},publishHandler:function(topics,options){return $runServicePromise.then(function(runService){var toSave=Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.c)(topics);return runService.variables().save(toSave).then(function(response){var variables=Object.keys(toSave);return Object(__WEBPACK_IMPORTED_MODULE_3__retriable_variable_fetch__.a)(runService,variables).then(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.b)})})}}}__webpack_exports__.a=RunVariablesRouteHandler;var __WEBPACK_IMPORTED_MODULE_0_utils_general__=__webpack_require__(7);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_2_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);var __WEBPACK_IMPORTED_MODULE_3__retriable_variable_fetch__=__webpack_require__(64)},function(module,__webpack_exports__,__webpack_require__){"use strict";function retriableFetch(runService,variables){return variables&&variables.length?runService.variables().query(variables).catch(function(e){var response=e.responseJSON;var info=response.information;if("VARIABLE_NOT_FOUND"!==info.code)throw e;var goodVariables=variables.filter(function(vName){var baseName=vName.split("[")[0];return!(-1!==info.context.names.indexOf(baseName))});return retriableFetch(runService,goodVariables)}):$.Deferred().resolve({}).promise()}__webpack_exports__.a=retriableFetch},function(module,__webpack_exports__,__webpack_require__){"use strict";function RunOperationsRouteHandler($runServicePromise,notifier){return{notify:function(operationsResponse){var parsed=[{name:operationsResponse.name,value:operationsResponse.result}];return notifier(parsed)},subscribeHandler:function(){return[]},publishHandler:function(topics,options){return $runServicePromise.then(function(runService){var toSave=topics.map(function(topic){return{name:topic.name,params:topic.value}});return runService.serial(toSave).then(function(result){return result.map(function(response,index){return{name:topics[index].name,value:response.result}})})})}}}__webpack_exports__.a=RunOperationsRouteHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";function ScenarioManagerRouteHandler(config,notifier){var defaults={serviceOptions:{},channelOptions:{}};var opts=$.extend(!0,{},defaults,config);var sm=new window.F.manager.ScenarioManager(opts.serviceOptions);var baselinePromise=sm.baseline.getRun().then(function(){return sm.baseline.run});var baselineOptions=$.extend(!0,{serviceOptions:baselinePromise,channelOptions:{meta:{readOnly:!0},variables:{readOnly:!0}}},opts.defaults,opts.baseline);var currentRunPromise=sm.current.getRun().then(function(){return sm.current.run});var runOptions=$.extend(!0,{serviceOptions:currentRunPromise},opts.defaults,opts.current);var baselineHandler=new __WEBPACK_IMPORTED_MODULE_0__run_route_handler__.a(baselineOptions,Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.g)(notifier,"baseline:"));var currentRunHandler=new __WEBPACK_IMPORTED_MODULE_0__run_route_handler__.a(runOptions,Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.g)(notifier,["current:",""]));var handlers=[$.extend(baselineHandler,{name:"baseline",match:Object(__WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__.b)("baseline:"),options:baselineOptions.channelOptions}),$.extend(currentRunHandler,{isDefault:!0,name:"current",match:Object(__WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__.a)("current:"),options:runOptions.channelOptions})];var scenarioManagerRouter=Object(__WEBPACK_IMPORTED_MODULE_2_channels_channel_router__.a)(handlers,notifier);return scenarioManagerRouter.expose={scenarioManager:sm},scenarioManagerRouter}__webpack_exports__.a=ScenarioManagerRouteHandler;var __WEBPACK_IMPORTED_MODULE_0__run_route_handler__=__webpack_require__(8);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2_channels_channel_router__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__=__webpack_require__(6)},function(module,__webpack_exports__,__webpack_require__){"use strict";function RunidRouteHandler(options,notifier){options||(options={});var opts={};return opts.serviceOptions=options.serviceOptions&&options.serviceOptions.run?options.serviceOptions.run:{},opts.channelOptions=options.channelOptions,{subscribeHandler:function(topics,options,prefix){var runid=Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.d)(prefix);return Object(__WEBPACK_IMPORTED_MODULE_0__run_router_factory__.a)(runid,opts,Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.g)(notifier,prefix)).subscribeHandler(topics,options,prefix)},publishHandler:function(topics,options,prefix){var runid=Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.d)(prefix);return Object(__WEBPACK_IMPORTED_MODULE_0__run_router_factory__.a)(runid,opts,Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__.g)(notifier,prefix)).publishHandler(topics)}}}__webpack_exports__.a=RunidRouteHandler;var __WEBPACK_IMPORTED_MODULE_0__run_router_factory__=__webpack_require__(68);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_router_utils__=__webpack_require__(2)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__run_route_handler__=__webpack_require__(8);var knownRunIDServiceChannels={};__webpack_exports__.a=function(runid,options,notifier){var runChannel=knownRunIDServiceChannels[runid];if(!runChannel){var runOptions=$.extend(!0,{},options,{serviceOptions:{id:runid}});runChannel=new __WEBPACK_IMPORTED_MODULE_0__run_route_handler__.a(runOptions,notifier),knownRunIDServiceChannels[runid]=runChannel}return runChannel}},function(module,__webpack_exports__,__webpack_require__){"use strict";function WorldRoutesHandler(config,notifier){function getRun(){return runPromise||(runPromise=rm.getRun().then(function(run){if(!run.world)throw console.error("No world found in run. Make sure you're using EpicenterJS version > 2.7"),new Error("Could not find world");return run},function(err){throw console.error("Run manager get run error",err),err})),runPromise}function getWorld(){return $worldProm||($worldProm=getRun().then(function(run){return run.world})),$worldProm}function getChannelForWorld(worldid){return worldChannelMap[worldid]||(worldChannelMap[worldid]=channelManager.getWorldChannel(worldid)),worldChannelMap[worldid]}var _this=this;var defaults={serviceOptions:{},channelOptions:{}};var opts=$.extend(!0,{},defaults,config);var rmOptions=opts.serviceOptions;var rm=new F.manager.RunManager(rmOptions);var runPromise=null;var $runPromise=getRun().then(function(run){if(rm.run.channel)return rm.run;var channelManager=new F.manager.ChannelManager;var worldChannel=channelManager.getWorldChannel(run.world);return worldChannel.subscribe(worldChannel.TOPICS.RUN_RESET,function(run){rm.run.updateConfig({filter:run.id})},_this,{includeMine:!1}),rm.run.channel=worldChannel,rm.run});var currentRunHandlerOpts=$.extend(!0,{serviceOptions:$runPromise,channelOptions:opts.channelOptions},opts.defaults,opts.current);var currentRunHandler=new __WEBPACK_IMPORTED_MODULE_5__run_route_handler__.a(currentRunHandlerOpts,Object(__WEBPACK_IMPORTED_MODULE_3_channels_channel_router_utils__.g)(notifier,[RUN_PREFIX,""]));var handlers=[];var runRouteHandler=$.extend(currentRunHandler,{match:Object(__WEBPACK_IMPORTED_MODULE_4_channels_route_handlers_route_matchers__.a)(RUN_PREFIX),name:"World Run",isDefault:!0,options:currentRunHandlerOpts.channelOptions});handlers.unshift(runRouteHandler);var $worldProm=null;var worldChannelMap={};var channelManager=new F.manager.ChannelManager;var am=new F.manager.AuthManager;var handlerOptions={serviceOptions:{getRun:getRun,getWorld:getWorld,getSession:function(){return am.getCurrentUserSessionInfo()},getChannel:getChannelForWorld},channelOptions:opts.channelOptions};var usersRouteHandler=new __WEBPACK_IMPORTED_MODULE_0__world_users_route_handler__.a(handlerOptions,Object(__WEBPACK_IMPORTED_MODULE_3_channels_channel_router_utils__.g)(notifier,MULTI_USER_PREFIX));var usersHandler=$.extend(usersRouteHandler,{match:Object(__WEBPACK_IMPORTED_MODULE_4_channels_route_handlers_route_matchers__.b)(MULTI_USER_PREFIX),name:"world users"});handlers.unshift(usersHandler);var currentUserRouteHandler=new __WEBPACK_IMPORTED_MODULE_1__world_current_user_route_handler__.a(handlerOptions,Object(__WEBPACK_IMPORTED_MODULE_3_channels_channel_router_utils__.g)(notifier,USER_PREFIX));var currentUserHandler=$.extend(currentUserRouteHandler,{match:Object(__WEBPACK_IMPORTED_MODULE_4_channels_route_handlers_route_matchers__.b)(USER_PREFIX),name:"world current user"});if(handlers.unshift(currentUserHandler),window.F.manager.ConsensusManager){var consensusRouteHandler=new __WEBPACK_IMPORTED_MODULE_2__consensus_route_handler__.a(handlerOptions,Object(__WEBPACK_IMPORTED_MODULE_3_channels_channel_router_utils__.g)(notifier,CONSENSUS_PREFIX));var consensusHandler=$.extend(consensusRouteHandler,{match:Object(__WEBPACK_IMPORTED_MODULE_4_channels_route_handlers_route_matchers__.b)(CONSENSUS_PREFIX),name:"consensus"});handlers.unshift(consensusHandler)}var worldRouteHandler=Object(__WEBPACK_IMPORTED_MODULE_6_channels_channel_router__.a)(handlers);return worldRouteHandler.expose={runManager:rm},worldRouteHandler}__webpack_exports__.a=WorldRoutesHandler;var __WEBPACK_IMPORTED_MODULE_0__world_users_route_handler__=__webpack_require__(70);var __WEBPACK_IMPORTED_MODULE_1__world_current_user_route_handler__=__webpack_require__(71);var __WEBPACK_IMPORTED_MODULE_2__consensus_route_handler__=__webpack_require__(72);var __WEBPACK_IMPORTED_MODULE_3_channels_channel_router_utils__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_4_channels_route_handlers_route_matchers__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_5__run_route_handler__=__webpack_require__(8);var __WEBPACK_IMPORTED_MODULE_6_channels_channel_router__=__webpack_require__(3);var _window=window,F=_window.F;var RUN_PREFIX="run:";var MULTI_USER_PREFIX="users:";var USER_PREFIX="user:";var CONSENSUS_PREFIX="consensus:"},function(module,__webpack_exports__,__webpack_require__){"use strict";function WorldUsersRouteHandler(config,notifier){var options=$.extend(!0,{serviceOptions:{},channelOptions:{}},config);var _options$serviceOptio=options.serviceOptions,getWorld=_options$serviceOptio.getWorld,getSession=_options$serviceOptio.getSession,getChannel=_options$serviceOptio.getChannel;var store={users:[],mark:function(userid,isOnline){return store.users=store.users.map(function(u){return u.userId===userid&&(u.isOnline=isOnline),u}),store.users}};var parsedUsersPromise=getWorld().then(function(world){var session=getSession();var parsed=world.users.map(function(u){return u.name=u.lastName,u.isMe=u.userId===session.userId,u.isOnline=u.isMe,u});return store.users=parsed,parsed});var presenceSubsId=void 0;return{unsubscribeHandler:function(knownTopics,remainingTopics){!remainingTopics.length&&presenceSubsId&&getWorld().then(function(world){getChannel(world.id).unsubscribe(presenceSubsId),presenceSubsId=null})},subscribeHandler:function(userids){return presenceSubsId||getWorld().then(function(world){var worldChannel=getChannel(world.id);presenceSubsId=worldChannel.subscribe(worldChannel.TOPICS.PRESENCE,function(user,meta){var userid=user.id;return store.mark(userid,user.isOnline),notifier([{name:"",value:store.users}])},{includeMine:!1})}),parsedUsersPromise.then(function(users){return[{name:"",value:users}]})},publishHandler:function(topics,options){var ps=new F.service.Presence;return topics.forEach(function(topic){var split=topic.name.split(":");split[1]&&("markOnline"===split[1]?ps.markOnline(split[0]):"markOffline"===split[1]&&ps.markOffline(split[0]))}),topics}}}__webpack_exports__.a=WorldUsersRouteHandler;var F=window.F},function(module,__webpack_exports__,__webpack_require__){"use strict";function WorldCurrentUserRouteHandler(config,notifier){var options=$.extend(!0,{serviceOptions:{},channelOptions:{}},config);var _options$serviceOptio=options.serviceOptions,getWorld=_options$serviceOptio.getWorld,getSession=_options$serviceOptio.getSession,getChannel=_options$serviceOptio.getChannel;var subsid=void 0;var store=$.extend(!0,{isMe:!0,isOnline:!0},getSession());return{unsubscribeHandler:function(unsubscribedTopics,remainingTopics){!(-1!==remainingTopics.indexOf("role"))&&subsid&&(getWorld().then(function(world){getChannel(world.id).unsubscribe(subsid)}),subsid=null)},subscribeHandler:function(userFields){return getWorld().then(function(world){var session=getSession();var myUser=world.users.find(function(user){return user.userId===session.userId});$.extend(store,myUser);var toNotify=userFields.reduce(function(accum,field){return""===field?accum.push({name:field,value:store}):void 0!==store[field]&&accum.push({name:field,value:store[field]}),accum},[]);if(-1!==userFields.indexOf("role")&&!subsid){var worldChannel=getChannel(world.id);subsid=worldChannel.subscribe(worldChannel.TOPICS.ROLES,function(users,meta){var myUser=users.find(function(u){return u.userId===session.userId});myUser&&myUser.role!==store.role&&(store.role=myUser.role,notifier([{name:"role",value:myUser.role}]))})}return toNotify})}}}__webpack_exports__.a=WorldCurrentUserRouteHandler},function(module,__webpack_exports__,__webpack_require__){"use strict";function ConsensusRouteHandler(config,notifier){function getConsensus(force){return consensusProm&&!force||(consensusProm=getRun().then(function(){return cm.getCurrent()})),consensusProm}var options=$.extend(!0,{serviceOptions:{},channelOptions:{}},config);var _options$serviceOptio=options.serviceOptions,getWorld=_options$serviceOptio.getWorld,getRun=_options$serviceOptio.getRun,getSession=_options$serviceOptio.getSession,getChannel=_options$serviceOptio.getChannel;var cm=new ConsensusManager;var consensusProm=null;var handlerOptions={serviceOptions:{getConsensus:getConsensus,getSession:getSession},channelOptions:{}};var opnHandler=Object(__WEBPACK_IMPORTED_MODULE_0__consensus_operations_handler__.a)(handlerOptions,Object(__WEBPACK_IMPORTED_MODULE_4_channels_channel_router_utils__.g)(notifier,OPERATIONS_PREFIX));var statusHandler=Object(__WEBPACK_IMPORTED_MODULE_1__consensus_status_handler__.a)(handlerOptions,notifier);var handlers=[$.extend({},opnHandler,{name:"consensus operations",match:Object(__WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__.b)(OPERATIONS_PREFIX),options:handlerOptions.channelOptions.operations}),$.extend({},statusHandler,{name:"consensus status",match:Object(__WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__.b)(""),isDefault:!0,options:handlerOptions.channelOptions.status})];getWorld().then(function(world){var channel=getChannel(world.id);channel.subscribe(channel.TOPICS.RUN_RESET,function(){getConsensus(!0).then(function(consensus){statusHandler.notify(consensus)})}),channel.subscribe(channel.TOPICS.CONSENSUS_UPDATE,function(consensus){consensus.closed?getConsensus(!0).then(function(consensus){statusHandler.notify(consensus)}):statusHandler.notify(consensus)})});var consensusRouteHandler=Object(__WEBPACK_IMPORTED_MODULE_2_channels_channel_router__.a)(handlers,notifier);return consensusRouteHandler.expose={consensusManager:cm},consensusRouteHandler}__webpack_exports__.a=ConsensusRouteHandler;var __WEBPACK_IMPORTED_MODULE_0__consensus_operations_handler__=__webpack_require__(73);var __WEBPACK_IMPORTED_MODULE_1__consensus_status_handler__=__webpack_require__(74);var __WEBPACK_IMPORTED_MODULE_2_channels_channel_router__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_3_channels_route_handlers_route_matchers__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_4_channels_channel_router_utils__=__webpack_require__(2);var ConsensusManager=window.F.manager.ConsensusManager;var OPERATIONS_PREFIX="operations:"},function(module,__webpack_exports__,__webpack_require__){"use strict";function ConsensusOperationsHandler(config,notifier){var options=$.extend(!0,{serviceOptions:{},channelOptions:{}},config);var getConsensus=options.serviceOptions.getConsensus;return{subscribeHandler:function(){return[]},publishHandler:function(topics,options){return getConsensus().then(function(consensus){var actions=topics.map(function(topic){return{name:topic.name,arguments:topic.value}});return Object(__WEBPACK_IMPORTED_MODULE_0__consensus_utils__.a)(consensus).submitActions(actions).then(function(){return topics})})}}}__webpack_exports__.a=ConsensusOperationsHandler;var __WEBPACK_IMPORTED_MODULE_0__consensus_utils__=__webpack_require__(15)},function(module,__webpack_exports__,__webpack_require__){"use strict";function ConsensusStatusHandler(config,notifier){function normalizePlayers(rolePlayerMap){var session=getSession();return Object.keys(rolePlayerMap).reduce(function(accum,role){var playersForRole=rolePlayerMap[role];var playersWithRole=playersForRole.map(function(p){var player=p.user||p;return Object.assign({},player,{role:role,userName:player.userName.split("/")[0],name:player.lastName,isMe:player.userName===session.userName})});return accum=accum.concat(playersWithRole)},[])}function normalizeConsensus(consensus){var session=getSession();var submitted=normalizePlayers(consensus.submitted);var amWaiting=submitted.find(function(u){return u.userName===session.userName});return $.extend(!0,{},consensus,{amWaiting:!!amWaiting,submitted:submitted,pending:normalizePlayers(consensus.pending)})}var options=$.extend(!0,{serviceOptions:{},channelOptions:{}},config);var _options$serviceOptio=options.serviceOptions,getConsensus=_options$serviceOptio.getConsensus,getSession=_options$serviceOptio.getSession;return{notify:function(consensus){var normalizedConsensus=normalizeConsensus(consensus);notifier(Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.b)(normalizedConsensus))},subscribeHandler:function(topics){return getConsensus().then(function(consensus){var normalized=normalizeConsensus(consensus);var dataForTopics=Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.pick)(normalized,topics);return Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.b)(dataForTopics)})},publishHandler:function(topics){return getConsensus().then(function(consensus){if(topics.length>1||"close"!==topics[0].name)throw new TypeError("Can only publish `close` on consensus:status");return Object(__WEBPACK_IMPORTED_MODULE_0__consensus_utils__.a)(consensus).forceClose().then(function(){return topics})})}}}__webpack_exports__.a=ConsensusStatusHandler;var __WEBPACK_IMPORTED_MODULE_0__consensus_utils__=__webpack_require__(15);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_2_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function MultiRunRouteHandler(options,notifier,channelManagerContext){function extractFiltersFromTopic(topicString){return topicString.replace("(","").replace(")","").split(";").reduce(function(accum,filter){var _filter$split=filter.split("="),_filter$split2=_slicedToArray(_filter$split,2),key=_filter$split2[0],val=_filter$split2[1];return val&&(val=!0),accum[key]=val,accum},{})}function fetch(topic,variables){var filters=extractFiltersFromTopic(topic);return runService.query(filters,{include:variables}).then(function(runs){return notifier([{name:topic,value:runs}]),runs})}var runService=new F.service.Run(options.serviceOptions.run);var topicParamMap={};return{fetch:fetch,unsubscribeHandler:function(unsubscribedTopics,remainingTopics){},subscribeHandler:function(topics,options){var topic=[].concat(topics)[0];var filters=extractFiltersFromTopic(topic);var variables=options&&options.include;var debouncedFetch=Object(__WEBPACK_IMPORTED_MODULE_0_utils_general__.a)(fetch,300,[function(accum,newval){return newval}]);return fetch(topic,variables).then(function(runs){var subsMap={};return runs.forEach(function(run){var subscriptions=Object.keys(filters).map(function(filter){return run.id+":meta:"+filter});var subsid=channelManagerContext.subscribe(subscriptions,function(){debouncedFetch(topic,variables)},{batch:!1,autoFetch:!1,cache:!1});subsMap[run.id]=subsid}),topicParamMap[topic]=subsMap,runs})}}}__webpack_exports__.a=MultiRunRouteHandler;var __WEBPACK_IMPORTED_MODULE_0_utils_general__=__webpack_require__(7);var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=!0;var _d=!1;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _window=window,F=_window.F},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interpolatable__=__webpack_require__(77);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__interpolatable__.a});var __WEBPACK_IMPORTED_MODULE_1__routable__=__webpack_require__(80);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_1__routable__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function interpolatable(ChannelManager){var subsidMap={};return function(_ChannelManager){function InterpolatedChannelManager(options){_classCallCheck(this,InterpolatedChannelManager);var _this=_possibleConstructorReturn(this,(InterpolatedChannelManager.__proto__||Object.getPrototypeOf(InterpolatedChannelManager)).call(this,options));return _this.subscribe=Object(__WEBPACK_IMPORTED_MODULE_0__subscribe_interpolator__.a)(_this.subscribe.bind(_this),function(dependencySubsId,newDependentId){var existing=subsidMap[dependencySubsId];existing&&_this.unsubscribe(existing),subsidMap[dependencySubsId]=newDependentId}),_this.publish=Object(__WEBPACK_IMPORTED_MODULE_1__publish_interpolator__.a)(_this.publish.bind(_this),function(variables,cb){_get(InterpolatedChannelManager.prototype.__proto__||Object.getPrototypeOf(InterpolatedChannelManager.prototype),"subscribe",_this).call(_this,variables,function(response,meta){_this.unsubscribe(meta.id),cb(response)},{autoFetch:!0,batch:!0,onError:function(e){throw e}})}),_this}return _inherits(InterpolatedChannelManager,_ChannelManager),_createClass(InterpolatedChannelManager,[{key:"unsubscribe",value:function(token){var existing=subsidMap[token];existing&&_get(InterpolatedChannelManager.prototype.__proto__||Object.getPrototypeOf(InterpolatedChannelManager.prototype),"unsubscribe",this).call(this,existing),_get(InterpolatedChannelManager.prototype.__proto__||Object.getPrototypeOf(InterpolatedChannelManager.prototype),"unsubscribe",this).call(this,token),delete subsidMap[token]}},{key:"unsubscribeAll",value:function(){subsidMap={},_get(InterpolatedChannelManager.prototype.__proto__||Object.getPrototypeOf(InterpolatedChannelManager.prototype),"unsubscribeAll",this).call(this)}}]),InterpolatedChannelManager}(ChannelManager)}__webpack_exports__.a=interpolatable;var __WEBPACK_IMPORTED_MODULE_0__subscribe_interpolator__=__webpack_require__(78);var __WEBPACK_IMPORTED_MODULE_1__publish_interpolator__=__webpack_require__(79);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function getDependencies(topics){var deps=topics.reduce(function(accum,topic){var inner=Object(__WEBPACK_IMPORTED_MODULE_0__interpolatable_utils__.a)(topic);return accum=accum.concat(inner)},[]);return Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniq)(deps)}function interpolateWithDependencies(topics,data){return topics.map(function(topic){return Object(__WEBPACK_IMPORTED_MODULE_0__interpolatable_utils__.b)(topic,data)})}function mergeInterpolatedTopicsWithData(originalTopics,interpolatedTopics,data){return interpolatedTopics.reduce(function(accum,interpolatedTopic,index){var original=originalTopics[index];return void 0!==data[interpolatedTopic]&&(accum[original]=data[interpolatedTopic]),accum},{})}function subscribeInterpolator(subscribeFn,onDependencyChange){return function(topics,cb,options){topics=[].concat(topics);var dependencies=getDependencies(topics);return dependencies.length?subscribeFn(dependencies,function(data,dependenciesMeta){if(!Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.isEqual)(data,dependenciesMeta.previousData)){var interpolatedTopics=interpolateWithDependencies(topics,data);var outerSubsId=subscribeFn(interpolatedTopics,function(actualData,actualMeta){var toSendback=mergeInterpolatedTopicsWithData(topics,interpolatedTopics,actualData);cb(toSendback,actualMeta)},options);return(onDependencyChange||$.noop)(dependenciesMeta.id,outerSubsId),outerSubsId}},$.extend(options,{autoFetch:!0,batch:!0})):subscribeFn(topics,cb,options)}}__webpack_exports__.a=subscribeInterpolator;var __WEBPACK_IMPORTED_MODULE_0__interpolatable_utils__=__webpack_require__(16);var __WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function getDependencies(publishInputs){var deps=publishInputs.reduce(function(accum,input){var inner=Object(__WEBPACK_IMPORTED_MODULE_0__interpolatable_utils__.a)(input.name);return accum=accum.concat(inner)},[]);return Object(__WEBPACK_IMPORTED_MODULE_2_lodash__.uniq)(deps)}function interpolateWithDependencies(publishInputs,valuesToInterpolate){return publishInputs.map(function(ip){return{name:Object(__WEBPACK_IMPORTED_MODULE_0__interpolatable_utils__.b)(ip.name,valuesToInterpolate),value:ip.value}})}function publishInterpolator(publishFunction,fetchFn){return function(topic,value,options){var normalizedPublishInputs=Object(__WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__.a)(topic,value,options);var dependencies=getDependencies(normalizedPublishInputs.params);if(!dependencies.length)return publishFunction(topic,value,options);var prom=$.Deferred();return fetchFn(dependencies,function(resolvedDependencies){var interpolated=interpolateWithDependencies(normalizedPublishInputs.params,resolvedDependencies);publishFunction(interpolated,normalizedPublishInputs.options).then(prom.resolve,prom.reject)}),prom.promise()}}__webpack_exports__.a=publishInterpolator;var __WEBPACK_IMPORTED_MODULE_0__interpolatable_utils__=__webpack_require__(16);var __WEBPACK_IMPORTED_MODULE_1_channels_channel_utils__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_2_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getTopicsFromSubsList(subcriptionList){var allTopics=subcriptionList.reduce(function(accum,subs){return accum=accum.concat(subs.topics)},[]);return Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.uniq)(allTopics)}function withRouter(BaseChannelManager,router){return function(_BaseChannelManager){function ChannelWithRouter(options){_classCallCheck(this,ChannelWithRouter);var _this=_possibleConstructorReturn(this,(ChannelWithRouter.__proto__||Object.getPrototypeOf(ChannelWithRouter)).call(this,options));var defaults={routes:[]};var opts=$.extend(!0,{},defaults,options);var optsToPassOn=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.omit)(opts,Object.keys(defaults));var rt=router(opts.routes,optsToPassOn,_this.notify.bind(_this));return Object.assign(_this,rt.expose||{}),_this.router=rt,_this}return _inherits(ChannelWithRouter,_BaseChannelManager),_createClass(ChannelWithRouter,[{key:"subscribe",value:function(topics,cb,options){var _this2=this;var subsid=_get(ChannelWithRouter.prototype.__proto__||Object.getPrototypeOf(ChannelWithRouter.prototype),"subscribe",this).call(this,topics,cb,options);return this.router.subscribeHandler([].concat(topics),options).then(function(topicsWithData){topicsWithData&&topicsWithData.length&&_this2.notify([].concat(topicsWithData))},function(err){_this2.unsubscribe(subsid),options&&options.onError&&options.onError(err)}),subsid}},{key:"publish",value:function(topic,value,options){var _this3=this;var publishData=Object(__WEBPACK_IMPORTED_MODULE_0__channel_utils__.a)(topic,value,options);return this.router.publishHandler(publishData.params,publishData.options).then(function(published){return _get(ChannelWithRouter.prototype.__proto__||Object.getPrototypeOf(ChannelWithRouter.prototype),"publish",_this3).call(_this3,published,publishData.options)})}},{key:"unsubscribe",value:function(token){var originalTopics=getTopicsFromSubsList(this.subscriptions);_get(ChannelWithRouter.prototype.__proto__||Object.getPrototypeOf(ChannelWithRouter.prototype),"unsubscribe",this).call(this,token);var remainingTopics=getTopicsFromSubsList(this.subscriptions);var unsubscribedTopics=Object(__WEBPACK_IMPORTED_MODULE_1_lodash__.difference)(originalTopics,remainingTopics);this.router.unsubscribeHandler(unsubscribedTopics,remainingTopics)}},{key:"unsubscribeAll",value:function(){var originalTopics=getTopicsFromSubsList(this.subscriptions);return _get(ChannelWithRouter.prototype.__proto__||Object.getPrototypeOf(ChannelWithRouter.prototype),"unsubscribeAll",this).call(this),this.router.unsubscribeHandler(originalTopics,[])}}]),ChannelWithRouter}(BaseChannelManager)}__webpack_exports__.a=withRouter;var __WEBPACK_IMPORTED_MODULE_0__channel_utils__=__webpack_require__(5);var __WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(0);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__general__=__webpack_require__(7);__webpack_require__.d(__webpack_exports__,"makePromise",function(){return __WEBPACK_IMPORTED_MODULE_0__general__.b}),__webpack_require__.d(__webpack_exports__,"debounceAndMerge",function(){return __WEBPACK_IMPORTED_MODULE_0__general__.a})}]).default;
//# sourceMappingURL=flow.min.js.map