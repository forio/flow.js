<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="http://forio.com/tools/contour/0.9.91/contour.min.css">
    <style>
        .chart {
            float:left;
            width: 450px;
        }

        .label-text {
            font-family: monospace;
            font-size: 12px;
        }

        .tooltip-sensor {
        }

        .line-marker {
            stroke: #999;
        }

        .point-marker .text {
            fill: #222;
            stroke: none;
            font-family: monospace;
        }

        .point-marker .outside {
        }

        .point-marker .inside {
            fill-opacity: 0;
            stroke: #fff;
            stroke-width: 1.5px;
        }

        .series .area {
            opacity: 0.55
        }
    </style>
</head>
<body>
    <h3>Data Legends</h3>
    <div id="chart1" class="chart"></div>

    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
    <script src="http://forio.com/tools/contour/0.9.91/contour.js"></script>
</body>
</html>
<html>

<head>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/lodash/lodash.js"></script>
    <script src="//forio.com/tools/js-libs/2.3.0/epicenter-multiplayer-dependencies.js"></script>

    <script src="http://local.forio.com:8084/dist/epicenter-edge.js"></script>
    <!-- <script src="/node_modules/epicenter-js/dist/epicenter.min.js"></script> -->
    <script src="/dist/flow-edge.js"></script>
</head>

<body class="container">
    
    <h2>My role: <span data-f-bind="user:role"></span></h2>
    <div class="decisions">
        Enter Price:
        <input type="text" data-f-bind="<user:role>_Price_Decision[<Step>]"/>
        
        <div class="btn-container">
            <button data-f-on-click="consensus:operations:step">Step</button>
            <button data-f-on-click="reset">Reset</button>
        </div>
    </div>

   <div class="status">
       <h6>Pending players</h6>
       <ul>
           <li data-f-repeat="(player) in consensus:players:pending"><%= player.name %> (<%= player.role %>)</li>
       </ul>
       <h6>Submitted players</h6>
       <ul>
           <li data-f-repeat="(player) in consensus:players:submitted"><%= player.name %> (<%= player.role %>)</li>
       </ul>
   </div>

   <div class="jumbotron" data-f-showif="consensus:status:amWaiting">
        <p>Waiting for other players..</p>
   </div>
    
    <script type="text/javascript">
        Flow.initialize({
            channel: {
                defaults: {
                    strategy: 'multiplayer',
                    run: {
                        account: 'team-naren',
                        project: 'multiplayer-test',
                        model: 'bikes-multiplayer.xlsx',
                    }
                },
                // routes: [{
                //     match: 'user:role',
                //     subscribeHandler: ()=> 'P2'
                // }]
            }
        });
    </script>
</body>

</html>
