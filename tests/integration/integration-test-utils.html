
<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/dist/add-ons/flow-inspector.css">
    <link rel="stylesheet" href="../../dist/add-ons/flow-inspector.css">
    <script src="/node_modules/jquery/dist/jquery.js"></script>
    <script src="/node_modules/lodash/lodash.min.js"></script>
    <script src="/node_modules/epicenter-js/dist/epicenter.min.js"></script>
    <!-- <script src="http://local.forio.com:8084/dist/epicenter-edge.js"></script> -->

    <!-- <script src="https://forio.com/tools/js-libs/flow/1.0.0/flow.min.js"></script> -->
    <script src="/dist/flow-edge.js"></script>

    <!-- <script src="/dist/flow.min.js"></script> -->
    <script src="/dist/add-ons/flow-inspector.min.js"></script>
    <title>Foo</title>
</head>
<body data-f-model="PlatformSimSuperSlimv2.xlsx" data-f-on-init="step(10)" class="flow-debug">
    
    <input type="range" min="0" max="1" step=".05" data-f-bind="D_Percentage_of_marketing_for_buyers[0,<Step>]">

    <script>
        function asyncSlowFn(ip) {
            return new Promise((resolve, reject)=> {
                setTimeout(() => {
                    resolve(JSON.stringify(ip));
                }, 300);
            });
        }
        function asyncFastFn(ip) {
            return new Promise((resolve, reject)=> {
                resolve(JSON.stringify(ip));
            });
        }

        const debouncedSlow = Flow.utils.debounceAndMerge(asyncSlowFn, 200);
        const debouncedFast = Flow.utils.debounceAndMerge(asyncFastFn, 200);

        debouncedSlow('First').then(((i)=> {
            console.log('Slow: First cb', i);
        }));
        setTimeout(()=> {
            debouncedSlow('Second').then(((i)=> {
                console.log('Slow: Second cb', i);
            }));
        }, 300);


        debouncedFast('FirstFast').then(((i)=> {
            console.log('FirstFast: First cb', i);
        }));
        setTimeout(()=> {
            debouncedFast('SecondFast').then(((i)=> {
                console.log('SecondFast: Second cb', i);
            }));
        }, 300);
    </script>
</body>
</html>
